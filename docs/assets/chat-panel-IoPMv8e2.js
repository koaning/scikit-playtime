import{r as h,cV as ue,cW as mr,j as s,cX as pr,cY as fe,cZ as Ie,c_ as $,c$ as K,d0 as hr,d1 as xr,a as O,T as V,L as me,d2 as vt,d3 as qe,d4 as gt,d5 as bt,d6 as wt,d7 as fr,d8 as jt,d9 as Ve,da as vr,db as gr,c7 as br,dc as yt,dd as wr,K as Je,de as jr,df as yr,dg as Nr,dh as Sr,di as _r,dj as Cr,dk as Rr,cO as G,a_ as B,ay as Ar,cr as Er,dl as Tr,ax as Pr,dm as Lr,dn as zr,dp as Ir,dq as kr,dr as Dr,ds as Mr,dt as Fr,du as Nt,C as Wr,dv as Hr,dw as Or,dx as Yr,dy as Xr,dz as Ur,dA as Br,aB as pe,dB as qr,bS as Vr,dC as Jr,dD as $r,dE as St,dF as Kr,a0 as Gr,dG as Zr,dH as _t,dI as Ct,dJ as Qr,E as es,bY as ts,a2 as rs,dK as ss,al as os,am as ns,dL as as,an as ls,dM as is,__tla as cs}from"./index-CelXfcd8.js";import{e as Rt,g as ds,__tla as us}from"./edit-page-C5TsEeSo.js";import{C as ms,u as At}from"./links-Drv7cJgN.js";import{P as Et}from"./empty-state-DW308mFO.js";import{M as $e,F as ps,A as hs,__tla as xs}from"./markdown-renderer-Dmzbb00W.js";import{i as fs}from"./isEmpty-CqX_YTIf.js";import{__tla as vs}from"./storage-Dr0CC44z.js";import"./index-BYVZlBF8.js";import"./index-_luCZMLM.js";import"./index-mkubqy9-.js";import"./index-BelfnXwL.js";import"./index-BneyUujp.js";import"./index-Csd6QrCV.js";import"./index-C02SqeRj.js";import"./index-M_pBKDSe.js";import"./index-C7dtgr9A.js";import"./index-CtPksxf0.js";import"./index-DONRrmA2.js";import"./index-z4krxQ4j.js";import"./index-CAQvMTzM.js";import"./apl-CXdQSnD-.js";import"./asciiarmor-D5V0T9Cu.js";import"./asn1-DWPaVWf6.js";import"./brainfuck-CtZaYBKt.js";import"./cobol-stawOqaz.js";import"./clike-BgBwzOhw.js";import"./clojure-DiuoqK-z.js";import"./css-ZjFoif2m.js";import"./cmake-DXn5xaP-.js";import"./coffeescript-BTDxI-eT.js";import"./commonlisp-vq6DHwts.js";import"./cypher-gJDei3ni.js";import"./python-DD-Q2bae.js";import"./crystal-CRzZ78HM.js";import"./d-BShv7fp-.js";import"./diff-UJJ5BM9S.js";import"./dtd-DI9Herc-.js";import"./dylan-DkEP81N9.js";import"./ecl-DPFc0Uaf.js";import"./eiffel-DR5c0IrL.js";import"./elm-DompmV0j.js";import"./erlang-BuqgqA5h.js";import"./factor-CFXhaUWb.js";import"./simple-mode-C3vEBAcb.js";import"./forth-POgR1ypr.js";import"./fortran-DL7KluxX.js";import"./mllike-3c2dg9RT.js";import"./gas-bV0CklSb.js";import"./gherkin-B6X1vGSW.js";import"./groovy-DnIzCrpZ.js";import"./haskell-CLQs6EAM.js";import"./haxe-D25e-2l-.js";import"./idl-pcmmZuaN.js";import"./javascript-BpzJj0-u.js";import"./jinja2-DhgKlfW7.js";import"./julia-DjdwvFuI.js";import"./livescript-HO6ttBFx.js";import"./lua-8DXOpKDz.js";import"./mirc-DkvFAiy5.js";import"./mathematica-IIbmv7SK.js";import"./modelica-DSrSSXCg.js";import"./mumps-zvxmGV4l.js";import"./mbox-z_N2Mo3d.js";import"./nsis-BvKfQ9lQ.js";import"./ntriples-BSwWqoLa.js";import"./octave-C4hdQ5Hf.js";import"./oz-qQq7irPq.js";import"./pascal-CafrKXZF.js";import"./perl-tdMlh9QA.js";import"./pig-CwGJVRC4.js";import"./powershell-D1ly3AHC.js";import"./properties-_nPj978X.js";import"./protobuf-B4y9do6W.js";import"./pug-BTvK5tSS.js";import"./puppet-Bc-yJKzi.js";import"./q-B0kTJ4cI.js";import"./r-BA4EbLKE.js";import"./rpm-DI_rRufH.js";import"./ruby-CR-u2WLS.js";import"./sas-Bqaci40L.js";import"./scheme-qjP0V5Ag.js";import"./shell-BLav31RL.js";import"./sieve-r025o_jW.js";import"./smalltalk-C7J3IyEP.js";import"./sparql-BRLJFz69.js";import"./stylus-Bdo_Aemu.js";import"./swift-B_XXVlXX.js";import"./verilog-B4LBqg_1.js";import"./tcl-B2fODqDH.js";import"./textile-BuVhTOzU.js";import"./toml-wcPdHu67.js";import"./troff-Ce85hlLp.js";import"./ttcn-BxnYHtq8.js";import"./ttcn-cfg-CKJxb-l2.js";import"./turtle-BkSuIpt-.js";import"./webidl-CGwyPRYs.js";import"./vb-BHgjm0DN.js";import"./vbscript-Dawdd5GZ.js";import"./velocity-BdD_26Jv.js";import"./vhdl-CWWH2SUo.js";import"./xquery-CVDBqZPY.js";import"./yacas-I8QjZlxf.js";import"./z80-D8p3gKXp.js";import"./mscgen-B2igx18G.js";import"./index-sbO9UaUU.js";import"./trash-C6Ko-g5q.js";import"./_createAggregator-ZcHkHPNJ.js";import"./_baseEach--KDTwKbG.js";import{__tla as gs}from"./loro_wasm_bg-C1ks32Vm.js";import"./katex-LV4FpwlL.js";import"./between-horizontal-start-BmYToIaM.js";let Tt,bs=Promise.all([(()=>{try{return cs}catch{}})(),(()=>{try{return us}catch{}})(),(()=>{try{return xs}catch{}})(),(()=>{try{return vs}catch{}})(),(()=>{try{return gs}catch{}})()]).then(async()=>{var ke="ScrollArea",[Ke,ws]=pr(ke),[Pt,W]=Ke(ke),Ge=h.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:o,scrollHideDelay:a=600,...l}=t,[i,c]=h.useState(null),[p,d]=h.useState(null),[u,m]=h.useState(null),[f,v]=h.useState(null),[w,C]=h.useState(null),[x,g]=h.useState(0),[_,y]=h.useState(0),[b,S]=h.useState(!1),[T,E]=h.useState(!1),N=ue(e,P=>c(P)),R=mr(o);return s.jsx(Pt,{scope:r,type:n,dir:R,scrollHideDelay:a,scrollArea:i,viewport:p,onViewportChange:d,content:u,onContentChange:m,scrollbarX:f,onScrollbarXChange:v,scrollbarXEnabled:b,onScrollbarXEnabledChange:S,scrollbarY:w,onScrollbarYChange:C,scrollbarYEnabled:T,onScrollbarYEnabledChange:E,onCornerWidthChange:g,onCornerHeightChange:y,children:s.jsx(fe.div,{dir:R,...l,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":_+"px",...t.style}})})});Ge.displayName=ke;var Ze="ScrollAreaViewport",Qe=h.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:o,...a}=t,l=W(Ze,r),i=h.useRef(null),c=ue(e,i,l.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),s.jsx(fe.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:s.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});Qe.displayName=Ze;var X="ScrollAreaScrollbar",De=h.forwardRef((t,e)=>{const{forceMount:r,...n}=t,o=W(X,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:l}=o,i=t.orientation==="horizontal";return h.useEffect(()=>(i?a(!0):l(!0),()=>{i?a(!1):l(!1)}),[i,a,l]),o.type==="hover"?s.jsx(Lt,{...n,ref:e,forceMount:r}):o.type==="scroll"?s.jsx(zt,{...n,ref:e,forceMount:r}):o.type==="auto"?s.jsx(et,{...n,ref:e,forceMount:r}):o.type==="always"?s.jsx(Me,{...n,ref:e}):null});De.displayName=X;var Lt=h.forwardRef((t,e)=>{const{forceMount:r,...n}=t,o=W(X,t.__scopeScrollArea),[a,l]=h.useState(!1);return h.useEffect(()=>{const i=o.scrollArea;let c=0;if(i){const p=()=>{window.clearTimeout(c),l(!0)},d=()=>{c=window.setTimeout(()=>l(!1),o.scrollHideDelay)};return i.addEventListener("pointerenter",p),i.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),i.removeEventListener("pointerenter",p),i.removeEventListener("pointerleave",d)}}},[o.scrollArea,o.scrollHideDelay]),s.jsx(Ie,{present:r||a,children:s.jsx(et,{"data-state":a?"visible":"hidden",...n,ref:e})})}),zt=h.forwardRef((t,e)=>{const{forceMount:r,...n}=t,o=W(X,t.__scopeScrollArea),a=t.orientation==="horizontal",l=we(()=>c("SCROLL_END"),100),[i,c]=(p="hidden",d={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},h.useReducer((u,m)=>d[u][m]??u,p));var p,d;return h.useEffect(()=>{if(i==="idle"){const u=window.setTimeout(()=>c("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(u)}},[i,o.scrollHideDelay,c]),h.useEffect(()=>{const u=o.viewport,m=a?"scrollLeft":"scrollTop";if(u){let f=u[m];const v=()=>{const w=u[m];f!==w&&(c("SCROLL"),l()),f=w};return u.addEventListener("scroll",v),()=>u.removeEventListener("scroll",v)}},[o.viewport,a,c,l]),s.jsx(Ie,{present:r||i!=="hidden",children:s.jsx(Me,{"data-state":i==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:$(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:$(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),et=h.forwardRef((t,e)=>{const r=W(X,t.__scopeScrollArea),{forceMount:n,...o}=t,[a,l]=h.useState(!1),i=t.orientation==="horizontal",c=we(()=>{if(r.viewport){const p=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;l(i?p:d)}},10);return Z(r.viewport,c),Z(r.content,c),s.jsx(Ie,{present:n||a,children:s.jsx(Me,{"data-state":a?"visible":"hidden",...o,ref:e})})}),Me=h.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,o=W(X,t.__scopeScrollArea),a=h.useRef(null),l=h.useRef(0),[i,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=nt(i.viewport,i.content),d={...n,sizes:i,onSizesChange:c,hasThumb:p>0&&p<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:m=>l.current=m};function u(m,f){return(function(v,w,C,x="ltr"){const g=be(C),_=g/2,y=w||_,b=g-y,S=C.scrollbar.paddingStart+y,T=C.scrollbar.size-C.scrollbar.paddingEnd-b,E=C.content-C.viewport,N=x==="ltr"?[0,E]:[-1*E,0];return lt([S,T],N)(v)})(m,l.current,i,f)}return r==="horizontal"?s.jsx(It,{...d,ref:e,onThumbPositionChange:()=>{if(o.viewport&&a.current){const m=at(o.viewport.scrollLeft,i,o.dir);a.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:m=>{o.viewport&&(o.viewport.scrollLeft=m)},onDragScroll:m=>{o.viewport&&(o.viewport.scrollLeft=u(m,o.dir))}}):r==="vertical"?s.jsx(kt,{...d,ref:e,onThumbPositionChange:()=>{if(o.viewport&&a.current){const m=at(o.viewport.scrollTop,i);a.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:m=>{o.viewport&&(o.viewport.scrollTop=m)},onDragScroll:m=>{o.viewport&&(o.viewport.scrollTop=u(m))}}):null}),It=h.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...o}=t,a=W(X,t.__scopeScrollArea),[l,i]=h.useState(),c=h.useRef(null),p=ue(e,c,a.onScrollbarXChange);return h.useEffect(()=>{c.current&&i(getComputedStyle(c.current))},[c]),s.jsx(rt,{"data-orientation":"horizontal",...o,ref:p,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":be(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,u)=>{if(a.viewport){const m=a.viewport.scrollLeft+d.deltaX;t.onWheelScroll(m),it(m,u)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&l&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:ge(l.paddingLeft),paddingEnd:ge(l.paddingRight)}})}})}),kt=h.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...o}=t,a=W(X,t.__scopeScrollArea),[l,i]=h.useState(),c=h.useRef(null),p=ue(e,c,a.onScrollbarYChange);return h.useEffect(()=>{c.current&&i(getComputedStyle(c.current))},[c]),s.jsx(rt,{"data-orientation":"vertical",...o,ref:p,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":be(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,u)=>{if(a.viewport){const m=a.viewport.scrollTop+d.deltaY;t.onWheelScroll(m),it(m,u)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&l&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:ge(l.paddingTop),paddingEnd:ge(l.paddingBottom)}})}})}),[Dt,tt]=Ke(X),rt=h.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:o,onThumbChange:a,onThumbPointerUp:l,onThumbPointerDown:i,onThumbPositionChange:c,onDragScroll:p,onWheelScroll:d,onResize:u,...m}=t,f=W(X,r),[v,w]=h.useState(null),C=ue(e,N=>w(N)),x=h.useRef(null),g=h.useRef(""),_=f.viewport,y=n.content-n.viewport,b=K(d),S=K(c),T=we(u,10);function E(N){if(x.current){const R=N.clientX-x.current.left,P=N.clientY-x.current.top;p({x:R,y:P})}}return h.useEffect(()=>{const N=R=>{const P=R.target;(v==null?void 0:v.contains(P))&&b(R,y)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[_,v,y,b]),h.useEffect(S,[n,S]),Z(v,T),Z(f.content,T),s.jsx(Dt,{scope:r,scrollbar:v,hasThumb:o,onThumbChange:K(a),onThumbPointerUp:K(l),onThumbPositionChange:S,onThumbPointerDown:K(i),children:s.jsx(fe.div,{...m,ref:C,style:{position:"absolute",...m.style},onPointerDown:$(t.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),x.current=v.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),E(N))}),onPointerMove:$(t.onPointerMove,E),onPointerUp:$(t.onPointerUp,N=>{const R=N.target;R.hasPointerCapture(N.pointerId)&&R.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=g.current,f.viewport&&(f.viewport.style.scrollBehavior=""),x.current=null})})})}),ve="ScrollAreaThumb",st=h.forwardRef((t,e)=>{const{forceMount:r,...n}=t,o=tt(ve,t.__scopeScrollArea);return s.jsx(Ie,{present:r||o.hasThumb,children:s.jsx(Mt,{ref:e,...n})})}),Mt=h.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...o}=t,a=W(ve,r),l=tt(ve,r),{onThumbPositionChange:i}=l,c=ue(e,u=>l.onThumbChange(u)),p=h.useRef(void 0),d=we(()=>{p.current&&(p.current(),p.current=void 0)},100);return h.useEffect(()=>{const u=a.viewport;if(u){const m=()=>{if(d(),!p.current){const f=Wt(u,i);p.current=f,i()}};return i(),u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[a.viewport,d,i]),s.jsx(fe.div,{"data-state":l.hasThumb?"visible":"hidden",...o,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:$(t.onPointerDownCapture,u=>{const m=u.target.getBoundingClientRect(),f=u.clientX-m.left,v=u.clientY-m.top;l.onThumbPointerDown({x:f,y:v})}),onPointerUp:$(t.onPointerUp,l.onThumbPointerUp)})});st.displayName=ve;var Fe="ScrollAreaCorner",ot=h.forwardRef((t,e)=>{const r=W(Fe,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(Ft,{...t,ref:e}):null});ot.displayName=Fe;var Ft=h.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,o=W(Fe,r),[a,l]=h.useState(0),[i,c]=h.useState(0),p=!!(a&&i);return Z(o.scrollbarX,()=>{var u;const d=((u=o.scrollbarX)==null?void 0:u.offsetHeight)||0;o.onCornerHeightChange(d),c(d)}),Z(o.scrollbarY,()=>{var u;const d=((u=o.scrollbarY)==null?void 0:u.offsetWidth)||0;o.onCornerWidthChange(d),l(d)}),p?s.jsx(fe.div,{...n,ref:e,style:{width:a,height:i,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function ge(t){return t?parseInt(t,10):0}function nt(t,e){const r=t/e;return isNaN(r)?0:r}function be(t){const e=nt(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function at(t,e,r="ltr"){const n=be(e),o=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-o,l=e.content-e.viewport,i=a-n,c=xr(t,r==="ltr"?[0,l]:[-1*l,0]);return lt([0,l],[0,i])(c)}function lt(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function it(t,e){return t>0&&t<e}var Wt=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return(function o(){const a={left:t.scrollLeft,top:t.scrollTop},l=r.left!==a.left,i=r.top!==a.top;(l||i)&&e(),r=a,n=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(n)};function we(t,e){const r=K(t),n=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),h.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function Z(t,e){const r=K(e);hr(()=>{let n=0;if(t){const o=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return o.observe(t),()=>{window.cancelAnimationFrame(n),o.unobserve(t)}}},[t,r])}var ct=Ge,Ht=Qe,Ot=ot;const dt=h.forwardRef((t,e)=>{const r=O.c(15);let n,o,a,l,i,c,p,d;return r[0]!==t?({className:o,children:n,...a}=t,r[0]=t,r[1]=n,r[2]=o,r[3]=a):(n=r[1],o=r[2],a=r[3]),r[4]!==o?(l=V("relative overflow-hidden",o),r[4]=o,r[5]=l):l=r[5],r[6]!==n?(i=s.jsx(Ht,{className:"h-full w-full rounded-[inherit]",children:n}),r[6]=n,r[7]=i):i=r[7],r[8]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx(ut,{}),p=s.jsx(Ot,{}),r[8]=c,r[9]=p):(c=r[8],p=r[9]),r[10]!==a||r[11]!==e||r[12]!==l||r[13]!==i?(d=s.jsxs(ct,{ref:e,className:l,...a,children:[i,c,p]}),r[10]=a,r[11]=e,r[12]=l,r[13]=i,r[14]=d):d=r[14],d});dt.displayName=ct.displayName;const ut=h.forwardRef((t,e)=>{const r=O.c(14);let n,o,a;r[0]!==t?({className:n,orientation:a,...o}=t,r[0]=t,r[1]=n,r[2]=o,r[3]=a):(n=r[1],o=r[2],a=r[3]);const l=a===void 0?"vertical":a,i=l==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-px",c=l==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-px";let p,d,u;return r[4]!==n||r[5]!==i||r[6]!==c?(p=V("flex touch-none select-none transition-colors",i,c,n),r[4]=n,r[5]=i,r[6]=c,r[7]=p):p=r[7],r[8]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsx(st,{className:"relative flex-1 rounded-full bg-border"}),r[8]=d):d=r[8],r[9]!==l||r[10]!==o||r[11]!==e||r[12]!==p?(u=s.jsx(De,{ref:e,orientation:l,className:p,...o,children:d}),r[9]=l,r[10]=o,r[11]=e,r[12]=p,r[13]=u):u=r[13],u});ut.displayName=De.displayName;const Yt=t=>{const e=O.c(13),{reasoning:r,index:n,isStreaming:o}=t,a=n===void 0?0:n,l=o!==void 0&&o,i=l?"reasoning":void 0;let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx(qe,{className:"h-3 w-3"}),e[0]=c):c=e[0];const p=l?"Thinking":"View reasoning";let d,u,m,f;return e[1]!==r.length||e[2]!==p?(d=s.jsx(vt,{className:"text-xs text-muted-foreground hover:bg-muted/50 px-2 py-1 h-auto rounded-sm [&[data-state=open]>svg]:rotate-180",children:s.jsxs("span",{className:"flex items-center gap-2",children:[c,p," (",r.length," ","chars)"]})}),e[1]=r.length,e[2]=p,e[3]=d):d=e[3],e[4]!==r?(u=s.jsx(gt,{className:"pb-2 px-2",children:s.jsx("div",{className:"bg-muted/30 border border-muted/50 rounded-md p-3 italic text-muted-foreground/90 relative",children:s.jsx("div",{className:"pr-6",children:s.jsx($e,{content:r})})})}),e[4]=r,e[5]=u):u=e[5],e[6]!==d||e[7]!==u?(m=s.jsxs(bt,{value:"reasoning",className:"border-0",children:[d,u]}),e[6]=d,e[7]=u,e[8]=m):m=e[8],e[9]!==a||e[10]!==i||e[11]!==m?(f=s.jsx(wt,{type:"single",collapsible:!0,className:"w-full mb-2",value:i,children:m},a),e[9]=a,e[10]=i,e[11]=m,e[12]=f):f=e[12],f},Xt=fr({status:jt().default("success"),auth_required:vr().default(!1),action_url:Ve(),next_steps:Ve(),meta:Ve(),message:jt().nullish()}).passthrough(),Ut=t=>{const e=O.c(12),{data:r}=t;let n;if(e[0]!==r){const{status:o,auth_required:a,action_url:l,meta:i,next_steps:c,message:p,...d}=r;let u,m,f,v,w;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx("h3",{className:"text-xs font-semibold text-muted-foreground",children:"Tool Result"}),e[2]=u):u=e[2],e[3]!==o?(m=s.jsx("span",{className:"text-xs px-2 py-0.5 bg-[var(--grass-2)] text-[var(--grass-11)] rounded-full font-medium capitalize",children:o}),e[3]=o,e[4]=m):m=e[4],e[5]!==a?(f=a&&s.jsx("span",{className:"text-xs px-2 py-0.5 bg-[var(--amber-2)] text-[var(--amber-11)] rounded-full",children:"Auth Required"}),e[5]=a,e[6]=f):f=e[6],e[7]!==m||e[8]!==f?(v=s.jsxs("div",{className:"flex items-center justify-between",children:[u,s.jsxs("div",{className:"flex items-center gap-2",children:[m,f]})]}),e[7]=m,e[8]=f,e[9]=v):v=e[9],e[10]!==p?(w=p&&s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(wr,{className:"h-3 w-3 text-[var(--blue-11)] mt-0.5 flex-shrink-0"}),s.jsx("div",{className:"text-xs text-foreground",children:p})]}),e[10]=p,e[11]=w):w=e[11],n=s.jsxs("div",{className:"flex flex-col gap-1.5",children:[v,w,d&&s.jsx("div",{className:"space-y-3",children:Object.entries(d).map(Vt)})]}),e[0]=r,e[1]=n}else n=e[1];return n},Bt=t=>{const e=O.c(8),{result:r}=t;let n;e[0]!==r?(n=Xt.safeParse(r),e[0]=r,e[1]=n):n=e[1];const o=n;if(o.success){let i;return e[2]!==o.data?(i=s.jsx(Ut,{data:o.data}),e[2]=o.data,e[3]=i):i=e[3],i}let a,l;return e[4]!==r?(a=typeof r=="string"?r:JSON.stringify(r,null,2),e[4]=r,e[5]=a):a=e[5],e[6]!==a?(l=s.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-1",children:a}),e[6]=a,e[7]=l):l=e[7],l},qt=t=>{const e=O.c(6),{input:r}=t;if(!(r&&r!==null))return null;const n=typeof r=="object"&&Object.keys(r).length>0;let o,a,l;return e[0]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx("h3",{className:"text-xs font-semibold text-muted-foreground",children:"Tool Request"}),e[0]=o):o=e[0],e[1]!==r||e[2]!==n?(a=n?JSON.stringify(r,null,2):String(r),e[1]=r,e[2]=n,e[3]=a):a=e[3],e[4]!==a?(l=s.jsxs("div",{className:"space-y-2",children:[o,s.jsx("pre",{className:"bg-[var(--slate-2)] p-2 text-muted-foreground border border-[var(--slate-4)] rounded text-xs overflow-auto scrollbar-thin max-h-64",children:a})]}),e[4]=a,e[5]=l):l=e[5],l},mt=t=>{const e=O.c(38),{toolName:r,result:n,error:o,index:a,state:l,className:i,input:c}=t,p=a===void 0?0:a,d=l==="output-available"&&(n||o),u=o?"error":d?"success":"loading";let m;e[0]!==u?(m=()=>{switch(u){case"loading":return s.jsx(yt,{className:"h-3 w-3 animate-spin"});case"error":return s.jsx(br,{className:"h-3 w-3 text-[var(--red-11)]"});case"success":return s.jsx(ms,{className:"h-3 w-3 text-[var(--grass-11)]"});default:return s.jsx(gr,{className:"h-3 w-3"})}},e[0]=u,e[1]=m):m=e[1];const f=m;let v;e[2]!==o||e[3]!==d||e[4]!==u?(v=()=>u==="loading"?"Running":o?"Failed":d?"Done":"Tool call",e[2]=o,e[3]=d,e[4]=u,e[5]=v):v=e[5];const w=v,C=`tool-${p}`;let x;e[6]!==i?(x=V("w-full",i),e[6]=i,e[7]=x):x=e[7];const g=u==="error"&&"text-[var(--red-11)]/80",_=u==="success"&&"text-[var(--grass-11)]/80";let y,b;e[8]!==g||e[9]!==_?(y=V("h-6 text-xs border-border shadow-none! ring-0! bg-muted/60 hover:bg-muted py-0 px-2 gap-1 rounded-sm [&[data-state=open]>svg]:rotate-180 hover:no-underline",g,_),e[8]=g,e[9]=_,e[10]=y):y=e[10],e[11]!==f?(b=f(),e[11]=f,e[12]=b):b=e[12];const S=w();let T,E,N,R,P,k,D,z;return e[13]!==r?(T=(function(F){return F.replace("tool-","")})(r),e[13]=r,e[14]=T):T=e[14],e[15]!==T?(E=s.jsx("code",{className:"font-mono text-xs",children:T}),e[15]=T,e[16]=E):E=e[16],e[17]!==S||e[18]!==E||e[19]!==b?(N=s.jsxs("span",{className:"flex items-center gap-1",children:[b,S,":",E]}),e[17]=S,e[18]=E,e[19]=b,e[20]=N):N=e[20],e[21]!==N||e[22]!==y?(R=s.jsx(vt,{className:y,children:N}),e[21]=N,e[22]=y,e[23]=R):R=e[23],e[24]!==o||e[25]!==d||e[26]!==c||e[27]!==n?(P=d&&s.jsxs("div",{className:"space-y-3",children:[s.jsx(qt,{input:c}),n!=null&&s.jsx(Bt,{result:n}),o&&s.jsxs("div",{className:"bg-[var(--red-2)] border border-[var(--red-6)] rounded-lg p-3",children:[s.jsxs("div",{className:"text-xs font-semibold text-[var(--red-11)] mb-2 flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-[var(--red-9)] rounded-full"}),"Error"]}),s.jsx("div",{className:"text-sm text-[var(--red-11)] leading-relaxed",children:o})]})]}),e[24]=o,e[25]=d,e[26]=c,e[27]=n,e[28]=P):P=e[28],e[29]!==P?(k=s.jsx(gt,{className:"py-2 px-2",children:P}),e[29]=P,e[30]=k):k=e[30],e[31]!==R||e[32]!==k?(D=s.jsxs(bt,{value:"tool-call",className:"border-0",children:[R,k]}),e[31]=R,e[32]=k,e[33]=D):D=e[33],e[34]!==D||e[35]!==C||e[36]!==x?(z=s.jsx(wt,{type:"single",collapsible:!0,className:x,children:D},C),e[34]=D,e[35]=C,e[36]=x,e[37]=z):z=e[37],z};function Vt(t){const[e,r]=t;return fs(r)?null:s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("div",{className:"text-xs font-medium text-muted-foreground capitalize flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-[var(--blue-9)] rounded-full"}),e]}),s.jsx("pre",{className:"bg-[var(--slate-2)] p-2 text-muted-foreground border border-[var(--slate-4)] rounded text-xs overflow-auto scrollbar-thin max-h-64",children:JSON.stringify(r,null,2)})]},e)}const Jt=new Set(["openai","google","anthropic"]),$t=["image/*","text/*"],Kt=({onNewChat:t,activeChatId:e,setActiveChat:r})=>{const{handleClick:n}=At(),o=Je(Rt),{locale:a}=ts(),l=h.useMemo(()=>[...o.chats.values()].sort((i,c)=>c.updatedAt-i.updatedAt),[o.chats]);return s.jsxs("div",{className:"flex border-b px-2 py-1 justify-between shrink-0 items-center",children:[s.jsx(pe,{content:"New chat",children:s.jsx(B,{variant:"text",size:"icon",onClick:t,children:s.jsx(rs,{className:"h-4 w-4"})})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pe,{content:"AI Settings",children:s.jsx(B,{variant:"text",size:"xs",className:"hover:bg-foreground/10 py-2",onClick:()=>n("ai"),children:s.jsx(ss,{className:"h-4 w-4"})})}),s.jsxs(os,{children:[s.jsx(pe,{content:"Previous chats",children:s.jsx(ns,{asChild:!0,children:s.jsx(B,{variant:"text",size:"icon",children:s.jsx(as,{className:"h-4 w-4"})})})}),s.jsx(ls,{className:"w-[520px] p-0",align:"start",side:"right",children:s.jsx(dt,{className:"h-[500px] p-4",children:s.jsxs("div",{className:"space-y-4",children:[l.length===0&&s.jsx(Et,{title:"No chats yet",description:"Start a new chat to get started",icon:s.jsx(qe,{})}),l.map(i=>s.jsxs("button",{className:V("w-full p-3 rounded-md cursor-pointer hover:bg-accent text-left",i.id===e&&"bg-accent"),onClick:()=>{r(i.id)},type:"button",children:[s.jsx("div",{className:"font-medium",children:i.title}),s.jsx("div",{className:"text-sm text-muted-foreground",children:is(i.updatedAt,a)})]},i.id))]})})})]})]})]})},pt=h.memo(t=>{const e=O.c(15),{message:r,index:n,onEdit:o,isStreamingReasoning:a,isLast:l}=t;let i;e[0]!==n||e[1]!==o?(i=w=>{var _,y;const C=(_=w.parts)==null?void 0:_.filter(Gt),x=C==null?void 0:C.map(Zt).join(`
`),g=(y=w.parts)==null?void 0:y.filter(Qt);return s.jsxs("div",{className:"w-[95%] bg-background border p-1 rounded-sm",children:[g==null?void 0:g.map(er),s.jsx(Nt,{value:x,placeholder:"Type your message...",onChange:tr,onSubmit:(b,S)=>{S.trim()&&o(n,S)},onClose:rr},w.id)]})},e[0]=n,e[1]=o,e[2]=i):i=e[2];const c=i;let p;e[3]!==l||e[4]!==a?(p=w=>{const C=w.parts.filter(sr).map(or).join(`
`);return s.jsxs("div",{className:"w-[95%] break-words",children:[s.jsx("div",{className:"absolute right-1 top-1 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Wr,{className:"h-3 w-3",value:C||""})}),w.parts.map((x,g)=>{if((function(_){return _.type.startsWith("tool-")})(x))return s.jsx(mt,{index:g,toolName:x.type,result:x.output,className:"my-2",state:x.state,input:x.input},g);switch(x.type){case"text":return s.jsx($e,{content:x.text},g);case"reasoning":return s.jsx(Yt,{reasoning:x.text,index:g,isStreaming:l&&a&&g===(w.parts.length||0)-1},g);case"dynamic-tool":return s.jsx(mt,{index:g,toolName:x.type,result:x.output,state:x.state,input:x.input,className:"my-2"},g);case"data-reasoning-signature":return null;default:if(x.type.startsWith("data-"))return me.log("Found data part",x),null;me.error("Unhandled part type:",x.type);try{return s.jsx("div",{className:"text-xs text-muted-foreground",children:s.jsx($e,{content:JSON.stringify(x,null,2)})},g)}catch(_){const y=_;return me.error("Error rendering part:",x.type,y),null}}})]})},e[3]=l,e[4]=a,e[5]=p):p=e[5];const d=p,u=r.role==="user"?"justify-end":"justify-start";let m,f,v;return e[6]!==u?(m=V("flex group relative",u),e[6]=u,e[7]=m):m=e[7],e[8]!==r||e[9]!==d||e[10]!==c?(f=r.role==="user"?c(r):d(r),e[8]=r,e[9]=d,e[10]=c,e[11]=f):f=e[11],e[12]!==m||e[13]!==f?(v=s.jsx("div",{className:m,children:f}),e[12]=m,e[13]=f,e[14]=v):v=e[14],v});pt.displayName="ChatMessage";const ht=h.memo(t=>{var I;const e=O.c(37),{isEmpty:r,onSendClick:n,isLoading:o,onStop:a,fileInputRef:l,onAddFiles:i,onAddContext:c}=t,p=Je(yr),d=(p==null?void 0:p.mode)||"manual",u=((I=p==null?void 0:p.models)==null?void 0:I.chat_model)||Nr,m=Sr.parse(u).providerId,{saveModeChange:f}=_r();let v;e[0]===Symbol.for("react.memo_cache_sentinel")?(v=[{value:"ask",label:"Ask",subtitle:"Use AI with access to read-only tools like documentation search"},{value:"manual",label:"Manual",subtitle:"Pure chat, no tool usage"}],e[0]=v):v=e[0];const w=v,C=Jt.has(m);let x,g,_,y,b,S,T,E,N;e[1]!==d?(x=s.jsx(Hr,{className:"h-6 text-xs border-border shadow-none! ring-0! bg-muted hover:bg-muted/30 py-0 px-2 gap-1 capitalize",children:d}),e[1]=d,e[2]=x):x=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx(Or,{children:"AI Mode"}),e[3]=g):g=e[3],e[4]!==w?(_=s.jsx(Cr,{children:s.jsxs(Rr,{children:[g,w.map(nr)]})}),e[4]=w,e[5]=_):_=e[5],e[6]!==d||e[7]!==f||e[8]!==x||e[9]!==_?(y=s.jsx(Yr,{feature:"mcp_docs",children:s.jsxs(Xr,{value:d,onValueChange:f,children:[x,_]})}),e[6]=d,e[7]=f,e[8]=x,e[9]=_,e[10]=y):y=e[10],e[11]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx(Ur,{placeholder:"Model",triggerClassName:"h-6 text-xs shadow-none! ring-0! bg-muted hover:bg-muted/30 rounded-sm",iconSize:"small",showAddCustomModelDocs:!0,forRole:"chat"}),e[11]=b):b=e[11],e[12]!==y?(S=s.jsxs("div",{className:"flex items-center gap-2",children:[y,b]}),e[12]=y,e[13]=S):S=e[13],e[14]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsx(Br,{className:"h-3.5 w-3.5"}),e[14]=T):T=e[14],e[15]!==c?(E=s.jsx(pe,{content:"Add context",children:s.jsx(B,{variant:"text",size:"icon",onClick:c,children:T})}),e[15]=c,e[16]=E):E=e[16],e[17]!==l||e[18]!==C||e[19]!==i?(N=C&&s.jsxs(s.Fragment,{children:[s.jsx(pe,{content:"Attach a file",children:s.jsx(B,{variant:"text",size:"icon",className:"cursor-pointer",onClick:()=>{var U;return(U=l.current)==null?void 0:U.click()},title:"Attach a file",children:s.jsx(qr,{className:"h-3.5 w-3.5"})})}),s.jsx(Vr,{ref:l,type:"file",multiple:!0,hidden:!0,onChange:U=>{U.target.files&&i([...U.target.files])},accept:$t.join(",")})]}),e[17]=l,e[18]=C,e[19]=i,e[20]=N):N=e[20];const R=o?"Stop":"Submit",P=o?a:n,k=!o&&r;let D,z,F,Y,q;return e[21]!==o?(D=o?s.jsx(Jr,{className:"h-3 w-3 fill-current"}):s.jsx($r,{className:"h-3 w-3"}),e[21]=o,e[22]=D):D=e[22],e[23]!==P||e[24]!==k||e[25]!==D?(z=s.jsx(B,{variant:"text",size:"sm",className:"h-6 w-6 p-0 hover:bg-muted/30 cursor-pointer",onClick:P,disabled:k,children:D}),e[23]=P,e[24]=k,e[25]=D,e[26]=z):z=e[26],e[27]!==R||e[28]!==z?(F=s.jsx(pe,{content:R,children:z}),e[27]=R,e[28]=z,e[29]=F):F=e[29],e[30]!==N||e[31]!==F||e[32]!==E?(Y=s.jsxs("div",{className:"flex flex-row",children:[E,N,F]}),e[30]=N,e[31]=F,e[32]=E,e[33]=Y):Y=e[33],e[34]!==Y||e[35]!==S?(q=s.jsx(St,{children:s.jsxs("div",{className:"px-3 py-2 border-t border-border/20 flex flex-row items-center justify-between",children:[S,Y]})}),e[34]=Y,e[35]=S,e[36]=q):q=e[36],q});ht.displayName="ChatInputFooter";const We=h.memo(t=>{const e=O.c(29),{placeholder:r,input:n,inputClassName:o,setInput:a,onSubmit:l,inputRef:i,isLoading:c,onStop:p,fileInputRef:d,onAddFiles:u,onClose:m}=t;let f;e[0]!==n||e[1]!==l?(f=()=>{n.trim()&&l(void 0,n)},e[0]=n,e[1]=l,e[2]=f):f=e[2];const v=G(f);let w;e[3]!==o?(w=V("px-2 py-3 flex-1",o),e[3]=o,e[4]=w):w=e[4];const C=r||"Type your message...";let x,g;e[5]!==n||e[6]!==i||e[7]!==u||e[8]!==m||e[9]!==l||e[10]!==a||e[11]!==C?(x=s.jsx(Nt,{inputRef:i,value:n,onChange:a,onSubmit:l,onClose:m,onAddFiles:u,placeholder:C}),e[5]=n,e[6]=i,e[7]=u,e[8]=m,e[9]=l,e[10]=a,e[11]=C,e[12]=x):x=e[12],e[13]!==w||e[14]!==x?(g=s.jsx("div",{className:w,children:x}),e[13]=w,e[14]=x,e[15]=g):g=e[15];const _=!n.trim();let y,b,S;return e[16]!==i?(y=()=>Kr(i),e[16]=i,e[17]=y):y=e[17],e[18]!==d||e[19]!==v||e[20]!==c||e[21]!==u||e[22]!==p||e[23]!==_||e[24]!==y?(b=s.jsx(ht,{isEmpty:_,onAddContext:y,onSendClick:v,isLoading:c,onStop:p,fileInputRef:d,onAddFiles:u}),e[18]=d,e[19]=v,e[20]=c,e[21]=u,e[22]=p,e[23]=_,e[24]=y,e[25]=b):b=e[25],e[26]!==g||e[27]!==b?(S=s.jsxs("div",{className:"relative shrink-0 min-h-[80px] flex flex-col border-t",children:[g,b]}),e[26]=g,e[27]=b,e[28]=S):S=e[28],S});We.displayName="ChatInput";let xt;Tt=()=>{const t=O.c(6),e=Je(jr),{handleClick:r}=At();if(!e){let o,a,l;return t[0]!==r?(o=s.jsx(B,{variant:"outline",size:"sm",onClick:()=>r("ai"),children:"Edit AI settings"}),t[0]=r,t[1]=o):o=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(qe,{}),t[2]=a):a=t[2],t[3]!==o?(l=s.jsx(Et,{title:"Chat with AI",description:"AI is currently disabled. Add your API key to enable.",action:o,icon:a}),t[3]=o,t[4]=l):l=t[4],l}let n;return t[5]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(xt,{}),t[5]=n):n=t[5],n},xt=()=>{const t=O.c(86),e=Ar(Rt),[r,n]=Er(ds),[o,a]=h.useState(""),[l,i]=h.useState(""),[c,p]=h.useState(),d=h.useRef(null),u=h.useRef(null),m=h.useRef(null),f=h.useRef(null),v=h.useRef(null),w=Tr(),{invokeAiTool:C}=Pr(),x=r==null?void 0:r.id;let g,_,y;t[0]!==(r==null?void 0:r.messages)?(g=(r==null?void 0:r.messages)||[],t[0]=r==null?void 0:r.messages,t[1]=g):g=t[1],t[2]!==w?(_=new Lr({api:w.getAiURL("chat").toString(),headers:w.headers(),prepareSendMessagesRequest:lr}),t[2]=w,t[3]=_):_=t[3],t[4]!==e?(y=j=>{const{messages:A}=j;e(L=>(({chatState:M,chatId:ce,messages:J})=>{if(!ce)return me.warn("No active chat"),M;const de=M.chats.get(ce);if(!de)return me.warn("No active chat"),M;const ft=new Map(M.chats),ur=Date.now();return ft.set(de.id,{...de,messages:J,updatedAt:ur}),{...M,chats:ft}})({chatState:L,chatId:L.activeChatId,messages:A}))},t[4]=e,t[5]=y):y=t[5];const{messages:b,sendMessage:S,error:T,status:E,regenerate:N,stop:R,addToolResult:P,id:k}=zr({id:x,sendAutomaticallyWhen:ar,messages:g,transport:_,onFinish:y,onToolCall:async j=>{const{toolCall:A}=j;await Ir({invokeAiTool:C,addToolResult:D,toolCall:{toolName:A.toolName,toolCallId:A.toolCallId,input:A.input}})},onError:ir}),D=P;let z;t[6]===Symbol.for("react.memo_cache_sentinel")?(z=j=>{if(j.length===0)return;let A=0;for(const L of j)A+=L.size;A>52428800?Gr({title:"File size exceeds 50MB limit",description:"Please remove some files and try again."}):p(L=>[...L??[],...j])},t[6]=z):z=t[6];const F=G(z);let Y;t[7]!==c?(Y=j=>{c&&p(c.filter(A=>A!==j))},t[7]=c,t[8]=Y):Y=t[8];const q=G(Y),I=E==="submitted"||E==="streaming";let U;t[9]!==I||t[10]!==b?(U=I&&b.length>0&&kr(b),t[9]=I,t[10]=b,t[11]=U):U=t[11];const he=U;let je,ye,Ne;t[12]===Symbol.for("react.memo_cache_sentinel")?(je=()=>{requestAnimationFrame(()=>{if(m.current){const j=m.current;j.scrollTop=j.scrollHeight}})},t[12]=je):je=t[12],t[13]!==x?(ye=[x],t[13]=x,t[14]=ye):ye=t[14],h.useEffect(je,ye),t[15]!==k||t[16]!==S||t[17]!==e?(Ne=async(j,A)=>{const L=Date.now(),M={id:k,title:Zr(j),messages:[],createdAt:L,updatedAt:L};e(J=>{const de=new Map(J.chats);return de.set(M.id,M),{...J,chats:de,activeChatId:M.id}});const ce=A&&A.length>0?await _t(A):void 0;S({role:"user",parts:[{type:"text",text:j},...ce??[]]}),p(void 0),a("")},t[15]=k,t[16]=S,t[17]=e,t[18]=Ne):Ne=t[18];const He=Ne;let Se;t[19]!==n?(Se=()=>{n(null),a(""),i(""),p(void 0)},t[19]=n,t[20]=Se):Se=t[20];const Oe=G(Se);let _e;t[21]!==b||t[22]!==S?(_e=(j,A)=>{var J;const L=b[j],M=(J=L.parts)==null?void 0:J.filter(cr),ce=L.id;S({messageId:ce,role:"user",parts:[{type:"text",text:A},...M]})},t[21]=b,t[22]=S,t[23]=_e):_e=t[23];const xe=G(_e);let Ce;t[24]!==c||t[25]!==S?(Ce=async(j,A)=>{var M;if(!A.trim())return;(M=u.current)!=null&&M.view&&Ct(u.current.view);const L=c?await _t(c):void 0;j==null||j.preventDefault(),S({text:A,files:L}),a(""),p(void 0)},t[24]=c,t[25]=S,t[26]=Ce):Ce=t[26];const Ye=G(Ce);let Re;t[27]!==N?(Re=()=>{N()},t[27]=N,t[28]=Re):Re=t[28];const Xe=Re;let Ae;t[29]!==He||t[30]!==c||t[31]!==l?(Ae=()=>{var j;l.trim()&&((j=d.current)!=null&&j.view&&Ct(d.current.view),He(l.trim(),c))},t[29]=He,t[30]=c,t[31]=l,t[32]=Ae):Ae=t[32];const Ue=G(Ae);let Ee;t[33]===Symbol.for("react.memo_cache_sentinel")?(Ee=()=>{var j,A;return(A=(j=d.current)==null?void 0:j.editor)==null?void 0:A.blur()},t[33]=Ee):Ee=t[33];const dr=Ee,H=b.length===0;let Te;t[34]!==Ye||t[35]!==Ue||t[36]!==o||t[37]!==I||t[38]!==H||t[39]!==l||t[40]!==F||t[41]!==R?(Te=H?s.jsx(We,{placeholder:`Ask anything, ${Qr} to include context about tables or dataframes`,input:l,inputRef:d,inputClassName:"px-1 py-0",setInput:i,onSubmit:Ue,isLoading:I,onStop:R,fileInputRef:f,onAddFiles:F,onClose:dr},"new-thread-input"):s.jsx(We,{input:o,setInput:a,onSubmit:Ye,inputRef:u,isLoading:I,onStop:R,onClose:()=>{var j,A;return(A=(j=u.current)==null?void 0:j.editor)==null?void 0:A.blur()},fileInputRef:f,onAddFiles:F}),t[34]=Ye,t[35]=Ue,t[36]=o,t[37]=I,t[38]=H,t[39]=l,t[40]=F,t[41]=R,t[42]=Te):Te=t[42];const Q=Te;let Pe;t[43]!==c||t[44]!==H||t[45]!==q?(Pe=c&&c.length>0&&s.jsx("div",{className:V("flex flex-row gap-1 flex-wrap p-1",H&&"py-2 px-1"),children:c==null?void 0:c.map(j=>s.jsx(ps,{file:j,onRemove:()=>q(j)},j.name))}),t[43]=c,t[44]=H,t[45]=q,t[46]=Pe):Pe=t[46];const ee=Pe,Be=r==null?void 0:r.id;let te,re,se,oe,ne,Le,ae,le,ie,ze;if(t[47]!==Oe||t[48]!==n||t[49]!==Be?(te=s.jsx(St,{children:s.jsx(Kt,{onNewChat:Oe,activeChatId:Be,setActiveChat:n})}),t[47]=Oe,t[48]=n,t[49]=Be,t[50]=te):te=t[50],t[51]!==Q||t[52]!==ee||t[53]!==H?(re=H&&s.jsxs("div",{className:"rounded-md border bg-background",children:[ee,Q]}),t[51]=Q,t[52]=ee,t[53]=H,t[54]=re):re=t[54],t[55]!==xe||t[56]!==he||t[57]!==b){let j;t[59]!==xe||t[60]!==he||t[61]!==b.length?(j=(A,L)=>s.jsx(pt,{message:A,index:L,onEdit:xe,isStreamingReasoning:he,isLast:L===b.length-1},A.id),t[59]=xe,t[60]=he,t[61]=b.length,t[62]=j):j=t[62],se=b.map(j),t[55]=xe,t[56]=he,t[57]=b,t[58]=se}else se=t[58];return t[63]!==I?(oe=I&&s.jsx("div",{className:"flex justify-center py-4",children:s.jsx(yt,{className:"h-4 w-4 animate-spin"})}),t[63]=I,t[64]=oe):oe=t[64],t[65]!==T||t[66]!==Xe?(ne=T&&s.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[s.jsx(es,{error:T}),s.jsx(B,{variant:"outline",size:"sm",onClick:Xe,children:"Retry"})]}),t[65]=T,t[66]=Xe,t[67]=ne):ne=t[67],t[68]===Symbol.for("react.memo_cache_sentinel")?(Le=s.jsx("div",{ref:v}),t[68]=Le):Le=t[68],t[69]!==re||t[70]!==se||t[71]!==oe||t[72]!==ne?(ae=s.jsxs("div",{className:"flex-1 px-3 bg-(--slate-1) gap-4 py-3 flex flex-col overflow-y-auto",ref:m,children:[re,se,oe,ne,Le]}),t[69]=re,t[70]=se,t[71]=oe,t[72]=ne,t[73]=ae):ae=t[73],t[74]!==I||t[75]!==R?(le=I&&s.jsx("div",{className:"w-full flex justify-center items-center z-20 border-t",children:s.jsx(B,{variant:"linkDestructive",size:"sm",onClick:R,children:"Stop"})}),t[74]=I,t[75]=R,t[76]=le):le=t[76],t[77]!==Q||t[78]!==ee||t[79]!==H?(ie=!H&&s.jsxs(s.Fragment,{children:[ee,Q]}),t[77]=Q,t[78]=ee,t[79]=H,t[80]=ie):ie=t[80],t[81]!==te||t[82]!==ae||t[83]!==le||t[84]!==ie?(ze=s.jsxs("div",{className:"flex flex-col h-[calc(100%-53px)]",children:[te,ae,le,ie]}),t[81]=te,t[82]=ae,t[83]=le,t[84]=ie,t[85]=ze):ze=t[85],ze};function Gt(t){return t.type==="text"}function Zt(t){return t.text}function Qt(t){return t.type==="file"}function er(t,e){return s.jsx(hs,{attachment:t},e)}function tr(){}function rr(){}function sr(t){return t.type==="text"}function or(t){return t.text}function nr(t){return s.jsx(Dr,{value:t.value,className:"text-xs",children:s.jsxs("div",{className:"flex flex-col",children:[t.label,s.jsx("div",{className:"text-muted-foreground text-xs pt-1 block",children:t.subtitle})]})},t.value)}function ar(t){const{messages:e}=t;return Mr(e)}async function lr(t){const e=await Fr(t.messages);return{body:{...t,...e}}}function ir(t){me.error("An error occurred:",t)}function cr(t){return t.type==="file"}});export{bs as __tla,Tt as default};
