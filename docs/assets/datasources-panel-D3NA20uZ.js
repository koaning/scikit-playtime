import{a as E,T as K,b8 as Ie,b9 as De,j as n,ba as Le,bb as ae,av as se,bc as Ae,bd as Ve,be as ze,bf as ne,bg as Ee,d as F,ay as re,bh as oe,K as X,bi as le,bj as Oe,bk as me,b as ce,bl as ie,a_ as Z,a2 as de,bm as Be,bn as Ke,bo as Me,bp as He,bq as Ge,ax as Je,br as Qe,bs as Re,aB as U,bt as We,bu as Xe,bv as pe,bw as ue,bx as Y,by as Ze,bz as Ue,S as Ye,bA as he,bB as be,bC as xe,bD as ee,bE as et,bF as tt,bG as at,bH as st,aI as nt,bI as rt,bJ as fe,bK as ot,bL as lt,bM as mt,bN as ct,C as it,bO as dt,bP as pt,bQ as ut,__tla as ht}from"./index-CelXfcd8.js";import{P as bt}from"./empty-state-DW308mFO.js";import{A as ge,__tla as xt}from"./edit-page-C5TsEeSo.js";import{s as je}from"./sortBy-D4OG7w4O.js";import"./links-Drv7cJgN.js";import{__tla as ft}from"./storage-Dr0CC44z.js";import"./index-BYVZlBF8.js";import"./index-_luCZMLM.js";import"./index-mkubqy9-.js";import"./index-BelfnXwL.js";import"./index-BneyUujp.js";import"./index-Csd6QrCV.js";import"./index-C02SqeRj.js";import"./index-M_pBKDSe.js";import"./index-C7dtgr9A.js";import"./index-CtPksxf0.js";import"./index-DONRrmA2.js";import"./index-z4krxQ4j.js";import"./index-CAQvMTzM.js";import"./apl-CXdQSnD-.js";import"./asciiarmor-D5V0T9Cu.js";import"./asn1-DWPaVWf6.js";import"./brainfuck-CtZaYBKt.js";import"./cobol-stawOqaz.js";import"./clike-BgBwzOhw.js";import"./clojure-DiuoqK-z.js";import"./css-ZjFoif2m.js";import"./cmake-DXn5xaP-.js";import"./coffeescript-BTDxI-eT.js";import"./commonlisp-vq6DHwts.js";import"./cypher-gJDei3ni.js";import"./python-DD-Q2bae.js";import"./crystal-CRzZ78HM.js";import"./d-BShv7fp-.js";import"./diff-UJJ5BM9S.js";import"./dtd-DI9Herc-.js";import"./dylan-DkEP81N9.js";import"./ecl-DPFc0Uaf.js";import"./eiffel-DR5c0IrL.js";import"./elm-DompmV0j.js";import"./erlang-BuqgqA5h.js";import"./factor-CFXhaUWb.js";import"./simple-mode-C3vEBAcb.js";import"./forth-POgR1ypr.js";import"./fortran-DL7KluxX.js";import"./mllike-3c2dg9RT.js";import"./gas-bV0CklSb.js";import"./gherkin-B6X1vGSW.js";import"./groovy-DnIzCrpZ.js";import"./haskell-CLQs6EAM.js";import"./haxe-D25e-2l-.js";import"./idl-pcmmZuaN.js";import"./javascript-BpzJj0-u.js";import"./jinja2-DhgKlfW7.js";import"./julia-DjdwvFuI.js";import"./livescript-HO6ttBFx.js";import"./lua-8DXOpKDz.js";import"./mirc-DkvFAiy5.js";import"./mathematica-IIbmv7SK.js";import"./modelica-DSrSSXCg.js";import"./mumps-zvxmGV4l.js";import"./mbox-z_N2Mo3d.js";import"./nsis-BvKfQ9lQ.js";import"./ntriples-BSwWqoLa.js";import"./octave-C4hdQ5Hf.js";import"./oz-qQq7irPq.js";import"./pascal-CafrKXZF.js";import"./perl-tdMlh9QA.js";import"./pig-CwGJVRC4.js";import"./powershell-D1ly3AHC.js";import"./properties-_nPj978X.js";import"./protobuf-B4y9do6W.js";import"./pug-BTvK5tSS.js";import"./puppet-Bc-yJKzi.js";import"./q-B0kTJ4cI.js";import"./r-BA4EbLKE.js";import"./rpm-DI_rRufH.js";import"./ruby-CR-u2WLS.js";import"./sas-Bqaci40L.js";import"./scheme-qjP0V5Ag.js";import"./shell-BLav31RL.js";import"./sieve-r025o_jW.js";import"./smalltalk-C7J3IyEP.js";import"./sparql-BRLJFz69.js";import"./stylus-Bdo_Aemu.js";import"./swift-B_XXVlXX.js";import"./verilog-B4LBqg_1.js";import"./tcl-B2fODqDH.js";import"./textile-BuVhTOzU.js";import"./toml-wcPdHu67.js";import"./troff-Ce85hlLp.js";import"./ttcn-BxnYHtq8.js";import"./ttcn-cfg-CKJxb-l2.js";import"./turtle-BkSuIpt-.js";import"./webidl-CGwyPRYs.js";import"./vb-BHgjm0DN.js";import"./vbscript-Dawdd5GZ.js";import"./velocity-BdD_26Jv.js";import"./vhdl-CWWH2SUo.js";import"./xquery-CVDBqZPY.js";import"./yacas-I8QjZlxf.js";import"./z80-D8p3gKXp.js";import"./mscgen-B2igx18G.js";import"./index-sbO9UaUU.js";import"./trash-C6Ko-g5q.js";import"./_createAggregator-ZcHkHPNJ.js";import"./_baseEach--KDTwKbG.js";import{__tla as gt}from"./loro_wasm_bg-C1ks32Vm.js";import"./_baseMap-Cu3o-eyO.js";let Ne,jt=Promise.all([(()=>{try{return ht}catch{}})(),(()=>{try{return xt}catch{}})(),(()=>{try{return ft}catch{}})(),(()=>{try{return gt}catch{}})()]).then(async()=>{const _e=s=>{const e=E.c(8),{variableName:t,className:a}=s;let o;e[0]!==t?(o=()=>{const u=(function(f){const i=Le.get(ae)[f];if(i)return i.declaredBy[0]})(t);if(!u)return;const N=Ie(u);N&&De(N,t)},e[0]=t,e[1]=o):o=e[1];const c=o;let r,j;return e[2]!==a?(r=K("text-link opacity-80 hover:opacity-100 hover:underline",a),e[2]=a,e[3]=r):r=e[3],e[4]!==c||e[5]!==r||e[6]!==t?(j=n.jsx("button",{type:"button",onClick:c,className:r,children:t}),e[4]=c,e[5]=r,e[6]=t,e[7]=j):j=e[7],j},ye=se(s=>{const e=s(Ae),t=s(ae),a=s(Ve);return je(e,o=>{if(!o.variable_name)return-1;const c=Object.values(t).find(j=>j.name===o.variable_name);if(!c)return 0;const r=a.inOrderIds.indexOf(c.declaredBy[0]);return r===-1?0:r})}),we=se(s=>{const e=new Map(s(ze));for(const t of ne){const a=e.get(t);a&&(a.databases.length===0&&e.delete(t),a.databases.length===1&&a.databases[0].name===Ee&&a.databases[0].schemas.length===0&&e.delete(t))}return je([...e.values()],t=>ne.has(t.name)?1:0)}),ve=()=>{const s=E.c(32),[e,t]=F.useState(""),a=re(oe),o=X(ye),c=X(we);if(o.length===0&&c.length===0){let d;return s[0]===Symbol.for("react.memo_cache_sentinel")?(d=n.jsx(bt,{title:"No tables found",description:"Any datasets/dataframes in the global scope will be shown here.",action:n.jsx(ge,{children:n.jsxs(Z,{variant:"outline",size:"sm",children:["Add database or catalog",n.jsx(de,{className:"h-4 w-4 ml-2"})]})}),icon:n.jsx(ie,{})}),s[0]=d):d=s[0],d}const r=!!e.trim();let j,u,N,f,i,b,x,m,g,l;if(s[1]!==a?(j=d=>{a(d.length>0),t(d)},s[1]=a,s[2]=j):j=s[2],s[3]!==e||s[4]!==j?(u=n.jsx(Be,{placeholder:"Search tables...",className:"h-6 m-1",value:e,onValueChange:j,rootClassName:"flex-1 border-r"}),s[3]=e,s[4]=j,s[5]=u):u=s[5],s[6]!==r?(N=r&&n.jsx("button",{type:"button",className:"float-right border-b px-2 m-0 h-full hover:bg-accent hover:text-accent-foreground",onClick:()=>t(""),children:n.jsx(Ke,{className:"h-4 w-4"})}),s[6]=r,s[7]=N):N=s[7],s[8]===Symbol.for("react.memo_cache_sentinel")?(f=n.jsx(ge,{children:n.jsx("button",{type:"button",className:"float-right border-b px-2 m-0 h-full hover:bg-accent hover:text-accent-foreground",children:n.jsx(de,{className:"h-4 w-4"})})}),s[8]=f):f=s[8],s[9]!==u||s[10]!==N?(i=n.jsxs("div",{className:"flex items-center w-full",children:[u,N,f]}),s[9]=u,s[10]=N,s[11]=i):i=s[11],s[12]!==c||s[13]!==r||s[14]!==e){let d;s[16]!==r||s[17]!==e?(d=h=>n.jsx(Se,{connection:h,hasChildren:h.databases.length>0,children:h.databases.map(p=>n.jsx(Ce,{engineName:h.name,database:p,hasSearch:r,children:n.jsx($e,{schemas:p.schemas,defaultSchema:h.default_schema,defaultDatabase:h.default_database,engineName:h.name,databaseName:p.name,hasSearch:r,searchValue:e})},p.name))},h.name),s[16]=r,s[17]=e,s[18]=d):d=s[18],b=c.map(d),s[12]=c,s[13]=r,s[14]=e,s[15]=b}else b=s[15];return s[19]!==c.length||s[20]!==o.length?(x=c.length>0&&o.length>0&&n.jsxs(le,{children:[n.jsx(Oe,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-xs",children:"Python"})]}),s[19]=c.length,s[20]=o.length,s[21]=x):x=s[21],s[22]!==e||s[23]!==o?(m=o.length>0&&n.jsx(te,{tables:o,searchValue:e}),s[22]=e,s[23]=o,s[24]=m):m=s[24],s[25]!==b||s[26]!==x||s[27]!==m?(g=n.jsxs(Me,{className:"flex flex-col",children:[b,x,m]}),s[25]=b,s[26]=x,s[27]=m,s[28]=g):g=s[28],s[29]!==i||s[30]!==g?(l=n.jsxs(He,{className:"border-b bg-background rounded-none h-full pb-10 overflow-auto outline-hidden",shouldFilter:!1,children:[i,g]}),s[29]=i,s[30]=g,s[31]=l):l=s[31],l},Se=s=>{const e=E.c(26),{connection:t,children:a,hasChildren:o}=s,c=t.name===Ge,r=c?"In-Memory":t.name,{previewDataSourceConnection:j}=Je(),[u,N]=F.useState(!1);let f;e[0]!==t.name||e[1]!==j?(f=async()=>{N(!0),await j({engine:t.name}),setTimeout(()=>N(!1),500)},e[0]=t.name,e[1]=j,e[2]=f):f=e[2];const i=f;let b,x,m;e[3]!==t.dialect?(b=n.jsx(Qe,{className:"h-4 w-4 text-muted-foreground",name:t.dialect}),e[3]=t.dialect,e[4]=b):b=e[4],e[5]!==t.dialect?(x=Re(t.dialect),e[5]=t.dialect,e[6]=x):x=e[6],e[7]!==x?(m=n.jsx("span",{className:"text-xs",children:x}),e[7]=x,e[8]=m):m=e[8];const g=r;let l,d,h,p,_;return e[9]!==g?(l=n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",n.jsx(_e,{variableName:g}),")"]}),e[9]=g,e[10]=l):l=e[10],e[11]!==i||e[12]!==c||e[13]!==u?(d=!c&&n.jsx(U,{content:"Refresh connection",children:n.jsx(Z,{variant:"ghost",size:"icon",className:"ml-auto hover:bg-transparent hover:shadow-none",onClick:i,children:n.jsx(We,{className:K("h-4 w-4 text-muted-foreground hover:text-foreground",u&&"animate-[spin_0.5s]")})})}),e[11]=i,e[12]=c,e[13]=u,e[14]=d):d=e[14],e[15]!==b||e[16]!==m||e[17]!==l||e[18]!==d?(h=n.jsxs(le,{children:[b,m,l,d]}),e[15]=b,e[16]=m,e[17]=l,e[18]=d,e[19]=h):h=e[19],e[20]!==a||e[21]!==o?(p=o?a:n.jsx(Y,{content:"No databases available",className:"pl-2"}),e[20]=a,e[21]=o,e[22]=p):p=e[22],e[23]!==h||e[24]!==p?(_=n.jsxs(n.Fragment,{children:[h,p]}),e[23]=h,e[24]=p,e[25]=_):_=e[25],_},Ce=s=>{const e=E.c(25),{hasSearch:t,engineName:a,database:o,children:c}=s,[r,j]=F.useState(!1),[u,N]=F.useState(!1),[f,i]=F.useState(t);let b;f!==t&&(i(t),j(t)),e[0]!==r||e[1]!==u?(b=()=>{j(!r),N(!u)},e[0]=r,e[1]=u,e[2]=b):b=e[2];const x=`${a}:${o.name}`;let m;e[3]!==r?(m=n.jsx(xe,{isExpanded:r}),e[3]=r,e[4]=m):m=e[4];const g=u&&r?"text-foreground":"text-muted-foreground";let l,d;e[5]!==g?(l=K("h-4 w-4",g),e[5]=g,e[6]=l):l=e[6],e[7]!==l?(d=n.jsx(ie,{className:l}),e[7]=l,e[8]=d):d=e[8];const h=u&&r&&"font-semibold";let p,_,y,w;e[9]!==h?(p=K(h),e[9]=h,e[10]=p):p=e[10],e[11]!==o.name?(_=o.name===""?n.jsx("i",{children:"Not connected"}):o.name,e[11]=o.name,e[12]=_):_=e[12],e[13]!==p||e[14]!==_?(y=n.jsx("span",{className:p,children:_}),e[13]=p,e[14]=_,e[15]=y):y=e[15],e[16]!==b||e[17]!==y||e[18]!==x||e[19]!==m||e[20]!==d?(w=n.jsxs(ee,{className:"text-sm flex flex-row gap-1 items-center cursor-pointer rounded-none",onSelect:b,value:x,children:[m,d,y]}),e[16]=b,e[17]=y,e[18]=x,e[19]=m,e[20]=d,e[21]=w):w=e[21];const v=r&&c;let S;return e[22]!==w||e[23]!==v?(S=n.jsxs(n.Fragment,{children:[w,v]}),e[22]=w,e[23]=v,e[24]=S):S=e[24],S},$e=s=>{const e=E.c(20),{schemas:t,defaultSchema:a,defaultDatabase:o,engineName:c,databaseName:r,hasSearch:j,searchValue:u}=s;if(t.length===0){let i;return e[0]===Symbol.for("react.memo_cache_sentinel")?(i=n.jsx(Y,{content:"No schemas available",className:"pl-6"}),e[0]=i):i=e[0],i}let N,f;if(e[1]!==r||e[2]!==o||e[3]!==a||e[4]!==c||e[5]!==j||e[6]!==t||e[7]!==u){let i;e[9]!==u?(i=m=>!u||m.tables.some(g=>g.name.toLowerCase().includes(u.toLowerCase())),e[9]=u,e[10]=i):i=e[10];const b=t.filter(i);let x;e[11]!==r||e[12]!==o||e[13]!==a||e[14]!==c||e[15]!==j||e[16]!==u?(x=m=>n.jsx(ke,{databaseName:r,schema:m,hasSearch:j,children:n.jsx(te,{tables:m.tables,searchValue:u,sqlTableContext:{engine:c,database:r,schema:m.name,defaultSchema:a,defaultDatabase:o}})},m.name),e[11]=r,e[12]=o,e[13]=a,e[14]=c,e[15]=j,e[16]=u,e[17]=x):x=e[17],N=b.map(x),e[1]=r,e[2]=o,e[3]=a,e[4]=c,e[5]=j,e[6]=t,e[7]=u,e[8]=N}else N=e[8];return e[18]!==N?(f=n.jsx(n.Fragment,{children:N}),e[18]=N,e[19]=f):f=e[19],f},ke=s=>{const e=E.c(23),{databaseName:t,schema:a,children:o,hasSearch:c}=s,[r,j]=F.useState(c),[u,N]=F.useState(!1),f=`${t}:${a.name}`;if(be(a.name))return o;let i,b;e[0]!==r||e[1]!==u?(i=()=>{j(!r),N(!u)},e[0]=r,e[1]=u,e[2]=i):i=e[2],e[3]!==r?(b=n.jsx(xe,{isExpanded:r}),e[3]=r,e[4]=b):b=e[4];const x=u&&r&&"text-foreground";let m,g;e[5]!==x?(m=K("h-4 w-4 text-muted-foreground",x),e[5]=x,e[6]=m):m=e[6],e[7]!==m?(g=n.jsx(ut,{className:m}),e[7]=m,e[8]=g):g=e[8];const l=u&&r&&"font-semibold";let d,h,p;e[9]!==l?(d=K(l),e[9]=l,e[10]=d):d=e[10],e[11]!==a.name||e[12]!==d?(h=n.jsx("span",{className:d,children:a.name}),e[11]=a.name,e[12]=d,e[13]=h):h=e[13],e[14]!==i||e[15]!==b||e[16]!==g||e[17]!==h||e[18]!==f?(p=n.jsxs(ee,{className:"text-sm flex flex-row gap-1 items-center pl-5 cursor-pointer rounded-none",onSelect:i,value:f,children:[b,g,h]}),e[14]=i,e[15]=b,e[16]=g,e[17]=h,e[18]=f,e[19]=p):p=e[19];const _=r&&o;let y;return e[20]!==_||e[21]!==p?(y=n.jsxs(n.Fragment,{children:[p,_]}),e[20]=_,e[21]=p,e[22]=y):y=e[22],y},te=s=>{const e=E.c(24),{tables:t,sqlTableContext:a,searchValue:o}=s,{addTableList:c}=me(),[r,j]=F.useState(!1),[u,N]=F.useState(!1);let f,i;e[0]!==c||e[1]!==a||e[2]!==t.length||e[3]!==r?(f=async()=>{if(t.length===0&&a&&!r){j(!0),N(!0);const{engine:l,database:d,schema:h}=a,p=await Xe.request({engine:l,database:d,schema:h});if(!(p!=null&&p.tables))throw N(!1),new Error("No tables available");c({tables:p.tables,sqlTableContext:a}),N(!1)}},e[0]=c,e[1]=a,e[2]=t.length,e[3]=r,e[4]=f):f=e[4],e[5]!==a||e[6]!==t.length||e[7]!==r?(i=[t.length,a,r],e[5]=a,e[6]=t.length,e[7]=r,e[8]=i):i=e[8];const{isPending:b,error:x}=ce(f,i);if(b||u){let l;return e[9]===Symbol.for("react.memo_cache_sentinel")?(l=n.jsx(pe,{message:"Loading tables...",className:"pl-12"}),e[9]=l):l=e[9],l}if(x){let l;return e[10]!==x?(l=n.jsx(ue,{error:x,className:"pl-12"}),e[10]=x,e[11]=l):l=e[11],l}if(t.length===0){let l;return e[12]===Symbol.for("react.memo_cache_sentinel")?(l=n.jsx(Y,{content:"No tables found",className:"pl-9"}),e[12]=l):l=e[12],l}let m,g;if(e[13]!==o||e[14]!==a||e[15]!==t){let l;e[17]!==o?(l=p=>!o||p.name.toLowerCase().includes(o.toLowerCase()),e[17]=o,e[18]=l):l=e[18];const d=t.filter(l);let h;e[19]!==o||e[20]!==a?(h=p=>n.jsx(Te,{table:p,sqlTableContext:a,isSearching:!!o},p.name),e[19]=o,e[20]=a,e[21]=h):h=e[21],m=d.map(h),e[13]=o,e[14]=a,e[15]=t,e[16]=m}else m=e[16];return e[22]!==m?(g=n.jsx(n.Fragment,{children:m}),e[22]=m,e[23]=g):g=e[23],g},Te=s=>{const e=E.c(64),{table:t,sqlTableContext:a,isSearching:o}=s,{addTable:c}=me(),[r,j]=F.useState(!1),[u,N]=F.useState(!1),f=t.columns.length>0;let i,b;e[0]!==c||e[1]!==r||e[2]!==a||e[3]!==t.name||e[4]!==f||e[5]!==u?(i=async()=>{if(r&&!f&&a&&!u){N(!0);const{engine:q,database:R,schema:Pe}=a,W=await et.request({engine:q,database:R,schema:Pe,tableName:t.name});if(!(W!=null&&W.table))throw new Error("No table details available");c({table:W.table,sqlTableContext:a})}},e[0]=c,e[1]=r,e[2]=a,e[3]=t.name,e[4]=f,e[5]=u,e[6]=i):i=e[6],e[7]!==r||e[8]!==f?(b=[r,f],e[7]=r,e[8]=f,e[9]=b):b=e[9];const{isFetching:x,isPending:m,error:g}=ce(i,b),l=X(Ze),d=Ue(),{createNewCell:h}=Ye(),p=he();let _;e[10]!==p||e[11]!==l||e[12]!==h||e[13]!==d||e[14]!==a||e[15]!==t?(_=()=>{tt({autoInstantiate:l,createNewCell:h,fromCellId:d}),p((()=>{if(t.source_type==="catalog"){const q=a!=null&&a.database?`${a.database}.${t.name}`:t.name;return`${t.engine}.load_table("${q}")`}if(a)return fe({table:t,columnName:"*",sqlTableContext:a});switch(t.source_type){case"local":return`mo.ui.table(${t.name})`;case"duckdb":case"connection":return fe({table:t,columnName:"*",sqlTableContext:a});default:return ot(t.source_type),""}})())},e[10]=p,e[11]=l,e[12]=h,e[13]=d,e[14]=a,e[15]=t,e[16]=_):_=e[16];const y=_;let w;e[17]!==t.num_columns||e[18]!==t.num_rows?(w=()=>{const q=[];return t.num_rows!=null&&q.push(`${t.num_rows} rows`),t.num_columns!=null&&q.push(`${t.num_columns} columns`),q.length===0?null:n.jsx("div",{className:"flex flex-row gap-2 items-center pl-6 group-hover:hidden",children:n.jsx("span",{className:"text-xs text-muted-foreground",children:q.join(", ")})})},e[17]=t.num_columns,e[18]=t.num_rows,e[19]=w):w=e[19];const v=w;let S;e[20]!==g||e[21]!==x||e[22]!==m||e[23]!==a||e[24]!==t?(S=()=>{if(m||x)return n.jsx(pe,{message:"Loading columns...",className:"pl-12"});if(g)return n.jsx(ue,{error:g,className:"pl-12"});const q=t.columns;return q.length===0?n.jsx(Y,{content:"No columns found",className:"pl-12"}):q.map(R=>n.jsx(qe,{table:t,column:R,sqlTableContext:a},R.name))},e[20]=g,e[21]=x,e[22]=m,e[23]=a,e[24]=t,e[25]=S):S=e[25];const D=S;let P;e[26]!==r||e[27]!==o||e[28]!==t.source_type||e[29]!==t.type?(P=()=>{if(t.source_type==="local")return;const q=t.type==="table"?at:st;return n.jsx(q,{className:"h-3 w-3",strokeWidth:r||o?2.5:void 0})},e[26]=r,e[27]=o,e[28]=t.source_type,e[29]=t.type,e[30]=P):P=e[30];const L=P,A=a?`${a.database}.${a.schema}.${t.name}`:t.name,V=a&&(be(a.schema)?"pl-9":"pl-12"),z=(r||o)&&"font-semibold";let C,$,k,I,O,B,T,J,M,H,G,Q;return e[31]!==V||e[32]!==z?(C=K("rounded-none group h-8 cursor-pointer",V,z),e[31]=V,e[32]=z,e[33]=C):C=e[33],e[34]!==r?($=()=>j(!r),e[34]=r,e[35]=$):$=e[35],e[36]!==L?(k=L(),e[36]=L,e[37]=k):k=e[37],e[38]!==t.name?(I=n.jsx("span",{className:"text-sm",children:t.name}),e[38]=t.name,e[39]=I):I=e[39],e[40]!==k||e[41]!==I?(O=n.jsxs("div",{className:"flex gap-2 items-center flex-1",children:[k,I]}),e[40]=k,e[41]=I,e[42]=O):O=e[42],e[43]!==v?(B=v(),e[43]=v,e[44]=B):B=e[44],e[45]!==y?(T=nt.stopPropagation(()=>y()),e[45]=y,e[46]=T):T=e[46],e[47]===Symbol.for("react.memo_cache_sentinel")?(J=n.jsx(rt,{className:"h-3 w-3"}),e[47]=J):J=e[47],e[48]!==T?(M=n.jsx(U,{content:"Add table to notebook",delayDuration:400,children:n.jsx(Z,{className:"group-hover:inline-flex hidden",variant:"text",size:"icon",onClick:T,children:J})}),e[48]=T,e[49]=M):M=e[49],e[50]!==r||e[51]!==$||e[52]!==O||e[53]!==B||e[54]!==M||e[55]!==C||e[56]!==A?(H=n.jsxs(ee,{className:C,value:A,"aria-selected":r,forceMount:!0,onSelect:$,children:[O,B,M]}),e[50]=r,e[51]=$,e[52]=O,e[53]=B,e[54]=M,e[55]=C,e[56]=A,e[57]=H):H=e[57],e[58]!==r||e[59]!==D?(G=r&&D(),e[58]=r,e[59]=D,e[60]=G):G=e[60],e[61]!==H||e[62]!==G?(Q=n.jsxs(n.Fragment,{children:[H,G]}),e[61]=H,e[62]=G,e[63]=Q):Q=e[63],Q},qe=s=>{var O,B;const e=E.c(48),{table:t,column:a,sqlTableContext:o}=s,[c,r]=F.useState(!1),j=X(oe),u=re(lt);j&&c&&r(!1),u(c?T=>new Set([...T,`${t.name}:${a.name}`]):T=>(T.delete(`${t.name}:${a.name}`),new Set(T)));const N=he(),{columnsPreviews:f}=mt();let i;e[0]!==a.name||e[1]!==t.primary_keys?(i=((O=t.primary_keys)==null?void 0:O.includes(a.name))||!1,e[0]=a.name,e[1]=t.primary_keys,e[2]=i):i=e[2];const b=i;let x;e[3]!==a.name||e[4]!==t.indexes?(x=((B=t.indexes)==null?void 0:B.includes(a.name))||!1,e[3]=a.name,e[4]=t.indexes,e[5]=x):x=e[5];const m=x;let g;e[6]!==N?(g=T=>{N(T)},e[6]=N,e[7]=g):g=e[7];const l=g,d=Fe,h=c?"font-semibold":"";let p;e[8]!==a.name||e[9]!==h?(p=n.jsx("span",{className:h,children:a.name}),e[8]=a.name,e[9]=h,e[10]=p):p=e[10];const _=p,y=`${t.name}.${a.name}`,w=`${t.name}.${a.name}`;let v;e[11]!==c?(v=()=>r(!c),e[11]=c,e[12]=v):v=e[12];const S=o?"pl-14":"pl-7";let D,P,L,A,V,z,C,$,k,I;return e[13]!==S?(D=K("flex flex-row gap-2 items-center flex-1",S),e[13]=S,e[14]=D):D=e[14],e[15]!==a.type||e[16]!==_?(P=n.jsx(ct,{columnName:_,dataType:a.type}),e[15]=a.type,e[16]=_,e[17]=P):P=e[17],e[18]!==b?(L=b&&d({tooltipContent:"Primary key",content:"PK"}),e[18]=b,e[19]=L):L=e[19],e[20]!==m?(A=m&&d({tooltipContent:"Indexed",content:"IDX"}),e[20]=m,e[21]=A):A=e[21],e[22]!==D||e[23]!==P||e[24]!==L||e[25]!==A?(V=n.jsxs("div",{className:D,children:[P,L,A]}),e[22]=D,e[23]=P,e[24]=L,e[25]=A,e[26]=V):V=e[26],e[27]!==a.name?(z=n.jsx(U,{content:"Copy column name",delayDuration:400,children:n.jsx(Z,{variant:"text",size:"icon",className:"group-hover:opacity-100 opacity-0 hover:bg-muted text-muted-foreground hover:text-foreground",children:n.jsx(it,{tooltip:!1,value:a.name,className:"h-3 w-3"})})}),e[27]=a.name,e[28]=z):z=e[28],e[29]!==a.external_type?(C=n.jsx("span",{className:"text-xs text-muted-foreground",children:a.external_type}),e[29]=a.external_type,e[30]=C):C=e[30],e[31]!==V||e[32]!==z||e[33]!==C||e[34]!==y||e[35]!==w||e[36]!==v?($=n.jsxs(ee,{className:"rounded-none py-1 group cursor-pointer",value:w,onSelect:v,children:[V,z,C]},y),e[31]=V,e[32]=z,e[33]=C,e[34]=y,e[35]=w,e[36]=v,e[37]=$):$=e[37],e[38]!==a||e[39]!==f||e[40]!==l||e[41]!==c||e[42]!==o||e[43]!==t?(k=c&&n.jsx("div",{className:"pl-10 pr-2 py-2 bg-(--slate-1) shadow-inner border-b",children:n.jsx(dt,{children:n.jsx(pt,{table:t,column:a,onAddColumnChart:l,preview:f.get(o?`${o.database}.${o.schema}.${t.name}:${a.name}`:`${t.name}:${a.name}`),sqlTableContext:o})})}),e[38]=a,e[39]=f,e[40]=l,e[41]=c,e[42]=o,e[43]=t,e[44]=k):k=e[44],e[45]!==$||e[46]!==k?(I=n.jsxs(n.Fragment,{children:[$,k]}),e[45]=$,e[46]=k,e[47]=I):I=e[47],I};function Fe(s){const{tooltipContent:e,content:t}=s;return n.jsx(U,{content:e,delayDuration:100,children:n.jsx("span",{className:"text-xs text-black bg-gray-100 dark:invert rounded px-1",children:t})})}Ne=()=>{const s=E.c(1);let e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=n.jsx(ve,{}),s[0]=e):e=s[0],e}});export{jt as __tla,Ne as default};
