import{c as ue,av as xe,cL as ye,a as fe,cM as we,aw as Ne,u as ke,r as me,bz as Se,S as Ce,ax as ze,cN as u,ay as Oe,cr as Ie,K as Le,cO as Z,cP as Me,T as Pe,j as t,bU as Ae,cQ as He,aB as $,a_ as Q,a1 as Re,cR as ve,cS as Ee,cT as Te,__tla as Be}from"./index-CelXfcd8.js";import{H as De,d as qe,__tla as Fe}from"./edit-page-C5TsEeSo.js";import{d as Ue,e as Ve,__tla as Ge}from"./storage-Dr0CC44z.js";import{B as Je}from"./between-horizontal-start-BmYToIaM.js";import"./links-Drv7cJgN.js";import"./_createAggregator-ZcHkHPNJ.js";import"./_baseEach--KDTwKbG.js";import{__tla as We}from"./loro_wasm_bg-C1ks32Vm.js";import"./index-BYVZlBF8.js";import"./index-_luCZMLM.js";import"./index-mkubqy9-.js";import"./index-BelfnXwL.js";import"./index-BneyUujp.js";import"./index-Csd6QrCV.js";import"./index-C02SqeRj.js";import"./index-M_pBKDSe.js";import"./index-C7dtgr9A.js";import"./index-CtPksxf0.js";import"./index-DONRrmA2.js";import"./index-z4krxQ4j.js";import"./index-CAQvMTzM.js";import"./apl-CXdQSnD-.js";import"./asciiarmor-D5V0T9Cu.js";import"./asn1-DWPaVWf6.js";import"./brainfuck-CtZaYBKt.js";import"./cobol-stawOqaz.js";import"./clike-BgBwzOhw.js";import"./clojure-DiuoqK-z.js";import"./css-ZjFoif2m.js";import"./cmake-DXn5xaP-.js";import"./coffeescript-BTDxI-eT.js";import"./commonlisp-vq6DHwts.js";import"./cypher-gJDei3ni.js";import"./python-DD-Q2bae.js";import"./crystal-CRzZ78HM.js";import"./d-BShv7fp-.js";import"./diff-UJJ5BM9S.js";import"./dtd-DI9Herc-.js";import"./dylan-DkEP81N9.js";import"./ecl-DPFc0Uaf.js";import"./eiffel-DR5c0IrL.js";import"./elm-DompmV0j.js";import"./erlang-BuqgqA5h.js";import"./factor-CFXhaUWb.js";import"./simple-mode-C3vEBAcb.js";import"./forth-POgR1ypr.js";import"./fortran-DL7KluxX.js";import"./mllike-3c2dg9RT.js";import"./gas-bV0CklSb.js";import"./gherkin-B6X1vGSW.js";import"./groovy-DnIzCrpZ.js";import"./haskell-CLQs6EAM.js";import"./haxe-D25e-2l-.js";import"./idl-pcmmZuaN.js";import"./javascript-BpzJj0-u.js";import"./jinja2-DhgKlfW7.js";import"./julia-DjdwvFuI.js";import"./livescript-HO6ttBFx.js";import"./lua-8DXOpKDz.js";import"./mirc-DkvFAiy5.js";import"./mathematica-IIbmv7SK.js";import"./modelica-DSrSSXCg.js";import"./mumps-zvxmGV4l.js";import"./mbox-z_N2Mo3d.js";import"./nsis-BvKfQ9lQ.js";import"./ntriples-BSwWqoLa.js";import"./octave-C4hdQ5Hf.js";import"./oz-qQq7irPq.js";import"./pascal-CafrKXZF.js";import"./perl-tdMlh9QA.js";import"./pig-CwGJVRC4.js";import"./powershell-D1ly3AHC.js";import"./properties-_nPj978X.js";import"./protobuf-B4y9do6W.js";import"./pug-BTvK5tSS.js";import"./puppet-Bc-yJKzi.js";import"./q-B0kTJ4cI.js";import"./r-BA4EbLKE.js";import"./rpm-DI_rRufH.js";import"./ruby-CR-u2WLS.js";import"./sas-Bqaci40L.js";import"./scheme-qjP0V5Ag.js";import"./shell-BLav31RL.js";import"./sieve-r025o_jW.js";import"./smalltalk-C7J3IyEP.js";import"./sparql-BRLJFz69.js";import"./stylus-Bdo_Aemu.js";import"./swift-B_XXVlXX.js";import"./verilog-B4LBqg_1.js";import"./tcl-B2fODqDH.js";import"./textile-BuVhTOzU.js";import"./toml-wcPdHu67.js";import"./troff-Ce85hlLp.js";import"./ttcn-BxnYHtq8.js";import"./ttcn-cfg-CKJxb-l2.js";import"./turtle-BkSuIpt-.js";import"./webidl-CGwyPRYs.js";import"./vb-BHgjm0DN.js";import"./vbscript-Dawdd5GZ.js";import"./velocity-BdD_26Jv.js";import"./vhdl-CWWH2SUo.js";import"./xquery-CVDBqZPY.js";import"./yacas-I8QjZlxf.js";import"./z80-D8p3gKXp.js";import"./mscgen-B2igx18G.js";import"./index-sbO9UaUU.js";import"./trash-C6Ko-g5q.js";let _e,Xe=Promise.all([(()=>{try{return Be}catch{}})(),(()=>{try{return Fe}catch{}})(),(()=>{try{return Ge}catch{}})(),(()=>{try{return We}catch{}})()]).then(async()=>{let le,ce,E,ne,pe,de,he;le=ue("eraser",[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]]),ce=ue("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),E=ye("marimo:scratchpadHistory:v1",[]),ne=xe(!1),pe=xe(null,(e,i,s)=>{if(!(s=s.trim()))return;const m=e(E),x=[s,...m.filter(P=>P!==s)].slice(0,15);i(E,x)}),de={hide_code:!1,disabled:!1},he=()=>{const e=fe.c(84),i=we(),[s]=Ne(),{theme:m}=ke(),x=me.useRef(null),P=Se(),{createNewCell:K,updateCellCode:f}=Ce(),{sendRunScratchpad:v}=ze(),a=i.cellRuntime[u],ee=a==null?void 0:a.output,_=a==null?void 0:a.status,te=a==null?void 0:a.consoleOutputs,oe=i.cellData[u],r=(oe==null?void 0:oe.code)??"",re=Oe(pe),[o,l]=Ie(ne),g=Le(E);let T;e[0]!==re||e[1]!==r||e[2]!==v?(T=()=>{v({code:r}),re(r)},e[0]=re,e[1]=r,e[2]=v,e[3]=T):T=e[3];const j=Z(T);let B;e[4]!==r||e[5]!==K||e[6]!==P?(B=()=>{r.trim()&&K({code:r,before:!1,cellId:P??"__end__"})},e[4]=r,e[5]=K,e[6]=P,e[7]=B):B=e[7];const A=Z(B);let D;e[8]!==v||e[9]!==f?(D=()=>{f({cellId:u,code:"",formattingChange:!1}),v({code:""});const d=x.current;d&&d.dispatch({changes:{from:0,to:d.state.doc.length,insert:""}})},e[8]=v,e[9]=f,e[10]=D):D=e[10];const H=Z(D);let q;e[11]!==l||e[12]!==f?(q=d=>{l(!1),f({cellId:u,code:d,formattingChange:!1});const h=x.current;h&&h.dispatch({changes:{from:0,to:h.state.doc.length,insert:d}})},e[11]=l,e[12]=f,e[13]=q):q=e[13];const R=Z(q),[ie,ge]=me.useState();let b,y,w,N,c,n,p,k,F;if(e[14]!==r||e[15]!==te||e[16]!==H||e[17]!==A||e[18]!==j||e[19]!==R||e[20]!==g||e[21]!==o||e[22]!==ie||e[23]!==ee||e[24]!==l||e[25]!==_||e[26]!==m||e[27]!==s){const d=()=>t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"overflow-auto shrink-0 max-h-[40%]",children:t.jsx(qe,{theme:m,showPlaceholder:!1,id:u,code:r,config:de,status:"idle",serializedEditorState:null,runCell:j,userConfig:s,editorViewRef:x,setEditorView:Y=>{x.current=Y},hidden:!1,showHiddenCode:ve.NOOP,languageAdapter:ie,setLanguageAdapter:ge})}),t.jsx("div",{className:"flex-1 overflow-auto shrink-0",children:t.jsx(Ee,{allowExpand:!1,output:ee,className:"output-area",cellId:u,stale:!1,loading:!1})}),t.jsx("div",{className:"overflow-auto shrink-0 max-h-[35%]",children:t.jsx(Ve,{consoleOutputs:te,className:"overflow-auto",stale:!1,cellName:Te,onSubmitDebugger:ve.NOOP,cellId:u,debuggerActive:!1})})]});let h;e[35]!==R||e[36]!==g||e[37]!==o||e[38]!==m?(h=()=>o?t.jsx("div",{className:"absolute inset-0 z-100 bg-background p-3 border-none overflow-auto",children:t.jsx("div",{className:"overflow-auto flex flex-col gap-3",children:g.map((Y,be)=>t.jsx("div",{className:"border rounded-md hover:shadow-sm cursor-pointer hover:border-input overflow-hidden",onClick:()=>R(Y),children:t.jsx(me.Suspense,{children:t.jsx(Ae,{language:"python",theme:m,basicSetup:{highlightActiveLine:!1,highlightActiveLineGutter:!1},value:Y.trim(),editable:!1,readOnly:!0})})},be))})}):null,e[35]=R,e[36]=g,e[37]=o,e[38]=m,e[39]=h):h=e[39];const je=h;let U,V,S,G,C,J,z,O,W;N="flex flex-col h-full overflow-hidden divide-y",e[40]===Symbol.for("react.memo_cache_sentinel")?(c=Me.create(u),n=t.jsx("p",{className:"mx-2 my-2 text-muted-foreground text-sm",children:"Use this scratchpad cell to experiment with code without restrictions on variable names. Scratchpad code is ephemeral: variables defined in the scratchpad aren't saved to notebook memory, and the code is not saved in the notebook file."}),e[40]=c,e[41]=n):(c=e[40],n=e[41]),e[42]===Symbol.for("react.memo_cache_sentinel")?(U=He("cell.run"),e[42]=U):U=e[42],e[43]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx(Ue,{color:"var(--grass-11)",size:16}),e[43]=V):V=e[43],e[44]!==j||e[45]!==o?(S=t.jsx($,{content:U,children:t.jsx(Q,{"data-testid":"scratchpad-run-button",onClick:j,disabled:o,variant:"text",size:"xs",children:V})}),e[44]=j,e[45]=o,e[46]=S):S=e[46],e[47]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx(le,{size:16}),e[47]=G):G=e[47],e[48]!==H||e[49]!==o?(C=t.jsx($,{content:"Clear code and outputs",children:t.jsx(Q,{disabled:o,size:"xs",variant:"text",onClick:H,children:G})}),e[48]=H,e[49]=o,e[50]=C):C=e[50],e[51]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx(Je,{size:16}),e[51]=J):J=e[51],e[52]!==A||e[53]!==o?(z=t.jsx(De,{children:t.jsx($,{content:"Insert code",children:t.jsx(Q,{disabled:o,size:"xs",variant:"text",onClick:A,children:J})})}),e[52]=A,e[53]=o,e[54]=z):z=e[54],e[55]!==_?(O=(_==="running"||_==="queued")&&t.jsx(Re,{className:"inline",size:"small"}),e[55]=_,e[56]=O):O=e[56],e[57]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx("div",{className:"flex-1"}),e[57]=W):W=e[57];const ae=o&&"bg-(--sky-3) rounded-none";let I,L;e[58]!==ae?(I=Pe(ae),e[58]=ae,e[59]=I):I=e[59],e[60]!==o||e[61]!==l?(L=()=>l(!o),e[60]=o,e[61]=l,e[62]=L):L=e[62];const se=g.length===0;let X,M;e[63]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx(ce,{size:16}),e[63]=X):X=e[63],e[64]!==I||e[65]!==L||e[66]!==se?(M=t.jsx($,{content:"Toggle history",children:t.jsx(Q,{size:"xs",variant:"text",className:I,onClick:L,disabled:se,children:X})}),e[64]=I,e[65]=L,e[66]=se,e[67]=M):M=e[67],e[68]!==S||e[69]!==C||e[70]!==z||e[71]!==O||e[72]!==M?(p=t.jsxs("div",{className:"flex items-center shrink-0",children:[S,C,z,O,W,M]}),e[68]=S,e[69]=C,e[70]=z,e[71]=O,e[72]=M,e[73]=p):p=e[73],y="flex-1 divide-y relative overflow-hidden flex flex-col",w=d(),b=je(),e[14]=r,e[15]=te,e[16]=H,e[17]=A,e[18]=j,e[19]=R,e[20]=g,e[21]=o,e[22]=ie,e[23]=ee,e[24]=l,e[25]=_,e[26]=m,e[27]=s,e[28]=b,e[29]=y,e[30]=w,e[31]=N,e[32]=c,e[33]=n,e[34]=p}else b=e[28],y=e[29],w=e[30],N=e[31],c=e[32],n=e[33],p=e[34];return e[74]!==b||e[75]!==y||e[76]!==w?(k=t.jsxs("div",{className:y,children:[w,b]}),e[74]=b,e[75]=y,e[76]=w,e[77]=k):k=e[77],e[78]!==k||e[79]!==N||e[80]!==c||e[81]!==n||e[82]!==p?(F=t.jsxs("div",{className:N,id:c,children:[n,p,k]}),e[78]=k,e[79]=N,e[80]=c,e[81]=n,e[82]=p,e[83]=F):F=e[83],F},_e=()=>{const e=fe.c(1);let i;return e[0]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx(he,{}),e[0]=i):i=e[0],i}});export{Xe as __tla,_e as default};
