import{ai as Zt,gn as oi,go as _e,gp as er,gq as ai,gr as je,gs as tr,gt as si,d as ue,gu as rr}from"./index-CelXfcd8.js";import{a as li,b as ci,d as fi,c as ui,e as di,f as pi,g as hi,h as mi,i as gi,j as vi,k as Ei,l as bi,m as yi,n as wi,o as Oi,p as Ii,q as Ai,r as Ri,s as $i,t as Ni,u as Si,v as Li,w as Ti,x as xi,y as Pi,z as Ci,A as Fi,B as ki,C as Di,D as _i,E as ji,F as zi,G as Mi,H as Gi,I as Ui,J as Bi,K as Vi,L as Wi,N as Xi,O as Hi,P as Yi,Q as qi,R as Ji,S as Qi,T as Ki}from"./compile-DVQe1Mzk.js";import{e as Zi}from"./index-Db36XTG_.js";const nr={};function it(e,t){e===void 0&&(e=nr),t===void 0&&(t=nr);const r=Object.keys(e),n=Object.keys(t);return e===t||r.length===n.length&&r.every(s=>e[s]===t[s])}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var ze,eo=(ze=function(e,t){return ze=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},ze(e,t)},function(e,t){function r(){this.constructor=e}ze(e,t),e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}),to=Object.prototype.hasOwnProperty;function ot(e,t){return to.call(e,t)}function at(e){if(Array.isArray(e)){for(var t=new Array(e.length),r=0;r<t.length;r++)t[r]=""+r;return t}if(Object.keys)return Object.keys(e);var n=[];for(var s in e)ot(e,s)&&n.push(s);return n}function te(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function st(e){for(var t,r=0,n=e.length;r<n;){if(!((t=e.charCodeAt(r))>=48&&t<=57))return!1;r++}return!0}function de(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function ir(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function lt(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,r=e.length;t<r;t++)if(lt(e[t]))return!0}else if(typeof e=="object"){for(var n=at(e),s=n.length,l=0;l<s;l++)if(lt(e[n[l]]))return!0}}return!1}function or(e,t){var r=[e];for(var n in t){var s=typeof t[n]=="object"?JSON.stringify(t[n],null,2):t[n];s!==void 0&&r.push(n+": "+s)}return r.join(`
`)}var ar=(function(e){function t(r,n,s,l,a){var c=this.constructor,o=e.call(this,or(r,{name:n,index:s,operation:l,tree:a}))||this;return o.name=n,o.index=s,o.operation=l,o.tree=a,Object.setPrototypeOf(o,c.prototype),o.message=or(r,{name:n,index:s,operation:l,tree:a}),o}return eo(t,e),t})(Error),V=ar,ro=te,Ie={add:function(e,t,r){return e[t]=this.value,{newDocument:r}},remove:function(e,t,r){var n=e[t];return delete e[t],{newDocument:r,removed:n}},replace:function(e,t,r){var n=e[t];return e[t]=this.value,{newDocument:r,removed:n}},move:function(e,t,r){var n=Me(r,this.path);n&&(n=te(n));var s=pe(r,{op:"remove",path:this.from}).removed;return pe(r,{op:"add",path:this.path,value:s}),{newDocument:r,removed:n}},copy:function(e,t,r){var n=Me(r,this.from);return pe(r,{op:"add",path:this.path,value:te(n)}),{newDocument:r}},test:function(e,t,r){return{newDocument:r,test:Se(e[t],this.value)}},_get:function(e,t,r){return this.value=e[t],{newDocument:r}}},no={add:function(e,t,r){return st(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:r,index:t}},remove:function(e,t,r){return{newDocument:r,removed:e.splice(t,1)[0]}},replace:function(e,t,r){var n=e[t];return e[t]=this.value,{newDocument:r,removed:n}},move:Ie.move,copy:Ie.copy,test:Ie.test,_get:Ie._get};function Me(e,t){if(t=="")return e;var r={op:"_get",path:t};return pe(e,r),r.value}function pe(e,t,r,n,s,l){if(r===void 0&&(r=!1),n===void 0&&(n=!0),s===void 0&&(s=!0),l===void 0&&(l=0),r&&(typeof r=="function"?r(t,0,e,t.path):Ue(t,0)),t.path===""){var a={newDocument:e};if(t.op==="add")return a.newDocument=t.value,a;if(t.op==="replace")return a.newDocument=t.value,a.removed=e,a;if(t.op==="move"||t.op==="copy")return a.newDocument=Me(e,t.from),t.op==="move"&&(a.removed=e),a;if(t.op==="test"){if(a.test=Se(e,t.value),a.test===!1)throw new V("Test operation failed","TEST_OPERATION_FAILED",l,t,e);return a.newDocument=e,a}if(t.op==="remove")return a.removed=e,a.newDocument=null,a;if(t.op==="_get")return t.value=e,a;if(r)throw new V("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",l,t,e);return a}n||(e=te(e));var c=(t.path||"").split("/"),o=e,f=1,i=c.length,d=void 0,g=void 0,x=void 0;for(x=typeof r=="function"?r:Ue;;){if((g=c[f])&&g.indexOf("~")!=-1&&(g=ir(g)),s&&(g=="__proto__"||g=="prototype"&&f>0&&c[f-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(r&&d===void 0&&(o[g]===void 0?d=c.slice(0,f).join("/"):f==i-1&&(d=t.path),d!==void 0&&x(t,0,e,d)),f++,Array.isArray(o)){if(g==="-")g=o.length;else{if(r&&!st(g))throw new V("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",l,t,e);st(g)&&(g=~~g)}if(f>=i){if(r&&t.op==="add"&&g>o.length)throw new V("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",l,t,e);if((a=no[t.op].call(t,o,g,e)).test===!1)throw new V("Test operation failed","TEST_OPERATION_FAILED",l,t,e);return a}}else if(f>=i){if((a=Ie[t.op].call(t,o,g,e)).test===!1)throw new V("Test operation failed","TEST_OPERATION_FAILED",l,t,e);return a}if(o=o[g],r&&f<i&&(!o||typeof o!="object"))throw new V("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",l,t,e)}}function Ge(e,t,r,n,s){if(n===void 0&&(n=!0),s===void 0&&(s=!0),r&&!Array.isArray(t))throw new V("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");n||(e=te(e));for(var l=new Array(t.length),a=0,c=t.length;a<c;a++)l[a]=pe(e,t[a],r,!0,s,a),e=l[a].newDocument;return l.newDocument=e,l}function Ue(e,t,r,n){if(typeof e!="object"||e===null||Array.isArray(e))throw new V("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,r);if(!Ie[e.op])throw new V("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,r);if(typeof e.path!="string")throw new V("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,r);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new V('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,r);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new V("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,r);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new V("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,r);if((e.op==="add"||e.op==="replace"||e.op==="test")&&lt(e.value))throw new V("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,r);if(r){if(e.op=="add"){var s=e.path.split("/").length,l=n.split("/").length;if(s!==l+1&&s!==l)throw new V("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,r)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==n)throw new V("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,r)}else if(e.op==="move"||e.op==="copy"){var a=sr([{op:"_get",path:e.from,value:void 0}],r);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new V("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,r)}}}function sr(e,t,r){try{if(!Array.isArray(e))throw new V("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)Ge(te(t),te(e),r||!0);else{r=r||Ue;for(var n=0;n<e.length;n++)r(e[n],n,t,void 0)}}catch(s){if(s instanceof V)return s;throw s}}function Se(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var r,n,s,l=Array.isArray(e),a=Array.isArray(t);if(l&&a){if((n=e.length)!=t.length)return!1;for(r=n;r--!==0;)if(!Se(e[r],t[r]))return!1;return!0}if(l!=a)return!1;var c=Object.keys(e);if((n=c.length)!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!t.hasOwnProperty(c[r]))return!1;for(r=n;r--!==0;)if(!Se(e[s=c[r]],t[s]))return!1;return!0}return e!=e&&t!=t}const io=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:V,_areEquals:Se,applyOperation:pe,applyPatch:Ge,applyReducer:function(e,t,r){var n=pe(e,t);if(n.test===!1)throw new V("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return n.newDocument},deepClone:ro,getValueByPointer:Me,validate:sr,validator:Ue},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var ct=new WeakMap,oo=function(e){this.observers=new Map,this.obj=e},ao=function(e,t){this.callback=e,this.observer=t};function ft(e,t){t===void 0&&(t=!1);var r=ct.get(e.object);ut(r.value,e.object,e.patches,"",t),e.patches.length&&Ge(r.value,e.patches);var n=e.patches;return n.length>0&&(e.patches=[],e.callback&&e.callback(n)),n}function ut(e,t,r,n,s){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var l=at(t),a=at(e),c=!1,o=a.length-1;o>=0;o--){var f=e[d=a[o]];if(!ot(t,d)||t[d]===void 0&&f!==void 0&&Array.isArray(t)===!1)Array.isArray(e)===Array.isArray(t)?(s&&r.push({op:"test",path:n+"/"+de(d),value:te(f)}),r.push({op:"remove",path:n+"/"+de(d)}),c=!0):(s&&r.push({op:"test",path:n,value:e}),r.push({op:"replace",path:n,value:t}));else{var i=t[d];typeof f=="object"&&f!=null&&typeof i=="object"&&i!=null&&Array.isArray(f)===Array.isArray(i)?ut(f,i,r,n+"/"+de(d),s):f!==i&&(s&&r.push({op:"test",path:n+"/"+de(d),value:te(f)}),r.push({op:"replace",path:n+"/"+de(d),value:te(i)}))}}if(c||l.length!=a.length)for(o=0;o<l.length;o++){var d;ot(e,d=l[o])||t[d]===void 0||r.push({op:"add",path:n+"/"+de(d),value:te(t[d])})}}}const so=Object.freeze(Object.defineProperty({__proto__:null,compare:function(e,t,r){r===void 0&&(r=!1);var n=[];return ut(e,t,n,"",r),n},generate:ft,observe:function(e,t){var r,n=(function(c){return ct.get(c)})(e);if(n){var s=(function(c,o){return c.observers.get(o)})(n,t);r=s&&s.observer}else n=new oo(e),ct.set(e,n);if(r)return r;if(r={},n.value=te(e),t){r.callback=t,r.next=null;var l=function(){ft(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(l)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=[],r.object=e,r.unobserve=function(){ft(r),clearTimeout(r.next),(function(c,o){c.observers.delete(o.callback)})(n,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},n.observers.set(t,new ao(t,r)),r},unobserve:function(e,t){t.unobserve()}},Symbol.toStringTag,{value:"Module"}));var dt,lr;Object.assign({},io,so,{JsonPatchError:ar,deepClone:te,escapePathComponent:de,unescapePathComponent:ir});var lo=(function(){if(lr)return dt;lr=1;var e=/("(?:[^\\"]|\\.)*")|[:,]/g;return dt=function(t,r){var n,s,l;return r=r||{},n=JSON.stringify([1],void 0,r.indent===void 0?2:r.indent).slice(2,-3),s=n===""?1/0:r.maxLength===void 0?80:r.maxLength,l=r.replacer,(function a(c,o,f){var i,d,g,x,u,Q,k,Y,j,q,U,B;if(c&&typeof c.toJSON=="function"&&(c=c.toJSON()),(U=JSON.stringify(c,l))===void 0)return U;if(k=s-o.length-f,U.length<=k&&(j=U.replace(e,function(W,K){return K||W+" "})).length<=k)return j;if(l!=null&&(c=JSON.parse(U),l=void 0),typeof c=="object"&&c!==null){if(Y=o+n,g=[],d=0,Array.isArray(c))for(q="[",i="]",k=c.length;d<k;d++)g.push(a(c[d],Y,d===k-1?0:1)||"null");else for(q="{",i="}",k=(Q=Object.keys(c)).length;d<k;d++)x=Q[d],u=JSON.stringify(x)+": ",(B=a(c[x],Y,u.length+(d===k-1?0:1)))!==void 0&&g.push(u+B);if(g.length>0)return[q,n+g.join(`,
`+Y),i].join(`
`+o)}return U})(t,"",0)},dt})();const pt=Zt(lo);var cr,fr,ur,dr,pr,hr,mr,gr,vr,Er,br,ht,yr,mt,wr,gt,Or,vt,Ir,Ar,Rr,$r,Nr,Sr,Lr,Tr,xr,Et,Pr,Cr,Fr,kr,Dr,_r,jr,zr,Mr,Gr,Ur,Br,Vr,Wr,Xr,Hr,Yr,qr,Jr,Qr,Kr,Zr,en,tn,rn,nn,on,bt,an,sn,ln,yt,cn,wt,fn,Ot,un,It,dn,At,pn,Rt,hn,$t,mn,Nt,gn,St,vn,Lt,En,Tt,bn,yn,wn,xt,On,In,An,Rn,$n,Pt={exports:{}};function Be(){return fr?cr:(fr=1,cr={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2})}function Ve(){if(dr)return ur;dr=1;var e={};return ur=typeof process=="object"&&e&&e.NODE_DEBUG&&/\bsemver\b/i.test(e.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{}}function Le(){return pr||(pr=1,(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=Be(),l=Ve(),a=(t=e.exports={}).re=[],c=t.safeRe=[],o=t.src=[],f=t.safeSrc=[],i=t.t={};let d=0;const g="[a-zA-Z0-9-]",x=[["\\s",1],["\\d",s],[g,n]],u=(Q,k,Y)=>{const j=(U=>{for(const[B,W]of x)U=U.split(`${B}*`).join(`${B}{0,${W}}`).split(`${B}+`).join(`${B}{1,${W}}`);return U})(k),q=d++;l(Q,q,k),i[Q]=q,o[q]=k,f[q]=j,a[q]=new RegExp(k,Y?"g":void 0),c[q]=new RegExp(j,Y?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","\\d+"),u("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${g}*`),u("MAINVERSION",`(${o[i.NUMERICIDENTIFIER]})\\.(${o[i.NUMERICIDENTIFIER]})\\.(${o[i.NUMERICIDENTIFIER]})`),u("MAINVERSIONLOOSE",`(${o[i.NUMERICIDENTIFIERLOOSE]})\\.(${o[i.NUMERICIDENTIFIERLOOSE]})\\.(${o[i.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASEIDENTIFIER",`(?:${o[i.NONNUMERICIDENTIFIER]}|${o[i.NUMERICIDENTIFIER]})`),u("PRERELEASEIDENTIFIERLOOSE",`(?:${o[i.NONNUMERICIDENTIFIER]}|${o[i.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASE",`(?:-(${o[i.PRERELEASEIDENTIFIER]}(?:\\.${o[i.PRERELEASEIDENTIFIER]})*))`),u("PRERELEASELOOSE",`(?:-?(${o[i.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[i.PRERELEASEIDENTIFIERLOOSE]})*))`),u("BUILDIDENTIFIER",`${g}+`),u("BUILD",`(?:\\+(${o[i.BUILDIDENTIFIER]}(?:\\.${o[i.BUILDIDENTIFIER]})*))`),u("FULLPLAIN",`v?${o[i.MAINVERSION]}${o[i.PRERELEASE]}?${o[i.BUILD]}?`),u("FULL",`^${o[i.FULLPLAIN]}$`),u("LOOSEPLAIN",`[v=\\s]*${o[i.MAINVERSIONLOOSE]}${o[i.PRERELEASELOOSE]}?${o[i.BUILD]}?`),u("LOOSE",`^${o[i.LOOSEPLAIN]}$`),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE",`${o[i.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),u("XRANGEIDENTIFIER",`${o[i.NUMERICIDENTIFIER]}|x|X|\\*`),u("XRANGEPLAIN",`[v=\\s]*(${o[i.XRANGEIDENTIFIER]})(?:\\.(${o[i.XRANGEIDENTIFIER]})(?:\\.(${o[i.XRANGEIDENTIFIER]})(?:${o[i.PRERELEASE]})?${o[i.BUILD]}?)?)?`),u("XRANGEPLAINLOOSE",`[v=\\s]*(${o[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[i.XRANGEIDENTIFIERLOOSE]})(?:${o[i.PRERELEASELOOSE]})?${o[i.BUILD]}?)?)?`),u("XRANGE",`^${o[i.GTLT]}\\s*${o[i.XRANGEPLAIN]}$`),u("XRANGELOOSE",`^${o[i.GTLT]}\\s*${o[i.XRANGEPLAINLOOSE]}$`),u("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),u("COERCE",`${o[i.COERCEPLAIN]}(?:$|[^\\d])`),u("COERCEFULL",o[i.COERCEPLAIN]+`(?:${o[i.PRERELEASE]})?(?:${o[i.BUILD]})?(?:$|[^\\d])`),u("COERCERTL",o[i.COERCE],!0),u("COERCERTLFULL",o[i.COERCEFULL],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM",`(\\s*)${o[i.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",u("TILDE",`^${o[i.LONETILDE]}${o[i.XRANGEPLAIN]}$`),u("TILDELOOSE",`^${o[i.LONETILDE]}${o[i.XRANGEPLAINLOOSE]}$`),u("LONECARET","(?:\\^)"),u("CARETTRIM",`(\\s*)${o[i.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",u("CARET",`^${o[i.LONECARET]}${o[i.XRANGEPLAIN]}$`),u("CARETLOOSE",`^${o[i.LONECARET]}${o[i.XRANGEPLAINLOOSE]}$`),u("COMPARATORLOOSE",`^${o[i.GTLT]}\\s*(${o[i.LOOSEPLAIN]})$|^$`),u("COMPARATOR",`^${o[i.GTLT]}\\s*(${o[i.FULLPLAIN]})$|^$`),u("COMPARATORTRIM",`(\\s*)${o[i.GTLT]}\\s*(${o[i.LOOSEPLAIN]}|${o[i.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE",`^\\s*(${o[i.XRANGEPLAIN]})\\s+-\\s+(${o[i.XRANGEPLAIN]})\\s*$`),u("HYPHENRANGELOOSE",`^\\s*(${o[i.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[i.XRANGEPLAINLOOSE]})\\s*$`),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Pt,Pt.exports)),Pt.exports}function Ct(){if(mr)return hr;mr=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return hr=r=>r?typeof r!="object"?e:r:t}function Nn(){if(vr)return gr;vr=1;const e=/^[0-9]+$/,t=(r,n)=>{const s=e.test(r),l=e.test(n);return s&&l&&(r=+r,n=+n),r===n?0:s&&!l?-1:l&&!s?1:r<n?-1:1};return gr={compareIdentifiers:t,rcompareIdentifiers:(r,n)=>t(n,r)}}function ee(){if(br)return Er;br=1;const e=Ve(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:r}=Be(),{safeRe:n,t:s}=Le(),l=Ct(),{compareIdentifiers:a}=Nn();class c{constructor(f,i){if(i=l(i),f instanceof c){if(f.loose===!!i.loose&&f.includePrerelease===!!i.includePrerelease)return f;f=f.version}else if(typeof f!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof f}".`);if(f.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",f,i),this.options=i,this.loose=!!i.loose,this.includePrerelease=!!i.includePrerelease;const d=f.trim().match(i.loose?n[s.LOOSE]:n[s.FULL]);if(!d)throw new TypeError(`Invalid Version: ${f}`);if(this.raw=f,this.major=+d[1],this.minor=+d[2],this.patch=+d[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");d[4]?this.prerelease=d[4].split(".").map(g=>{if(/^[0-9]+$/.test(g)){const x=+g;if(x>=0&&x<r)return x}return g}):this.prerelease=[],this.build=d[5]?d[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(f){if(e("SemVer.compare",this.version,this.options,f),!(f instanceof c)){if(typeof f=="string"&&f===this.version)return 0;f=new c(f,this.options)}return f.version===this.version?0:this.compareMain(f)||this.comparePre(f)}compareMain(f){return f instanceof c||(f=new c(f,this.options)),a(this.major,f.major)||a(this.minor,f.minor)||a(this.patch,f.patch)}comparePre(f){if(f instanceof c||(f=new c(f,this.options)),this.prerelease.length&&!f.prerelease.length)return-1;if(!this.prerelease.length&&f.prerelease.length)return 1;if(!this.prerelease.length&&!f.prerelease.length)return 0;let i=0;do{const d=this.prerelease[i],g=f.prerelease[i];if(e("prerelease compare",i,d,g),d===void 0&&g===void 0)return 0;if(g===void 0)return 1;if(d===void 0)return-1;if(d!==g)return a(d,g)}while(++i)}compareBuild(f){f instanceof c||(f=new c(f,this.options));let i=0;do{const d=this.build[i],g=f.build[i];if(e("build compare",i,d,g),d===void 0&&g===void 0)return 0;if(g===void 0)return 1;if(d===void 0)return-1;if(d!==g)return a(d,g)}while(++i)}inc(f,i,d){if(f.startsWith("pre")){if(!i&&d===!1)throw new Error("invalid increment argument: identifier is empty");if(i){const g=`-${i}`.match(this.options.loose?n[s.PRERELEASELOOSE]:n[s.PRERELEASE]);if(!g||g[1]!==i)throw new Error(`invalid identifier: ${i}`)}}switch(f){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",i,d);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",i,d);break;case"prepatch":this.prerelease.length=0,this.inc("patch",i,d),this.inc("pre",i,d);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",i,d),this.inc("pre",i,d);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":this.minor===0&&this.patch===0&&this.prerelease.length!==0||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":this.patch===0&&this.prerelease.length!==0||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const g=Number(d)?1:0;if(this.prerelease.length===0)this.prerelease=[g];else{let x=this.prerelease.length;for(;--x>=0;)typeof this.prerelease[x]=="number"&&(this.prerelease[x]++,x=-2);if(x===-1){if(i===this.prerelease.join(".")&&d===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(g)}}if(i){let x=[i,g];d===!1&&(x=[i]),a(this.prerelease[0],i)===0?isNaN(this.prerelease[1])&&(this.prerelease=x):this.prerelease=x}break}default:throw new Error(`invalid increment argument: ${f}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return Er=c}function Ae(){if(yr)return ht;yr=1;const e=ee();return ht=(t,r,n=!1)=>{if(t instanceof e)return t;try{return new e(t,r)}catch(s){if(!n)return null;throw s}},ht}function oe(){if(Fr)return Cr;Fr=1;const e=ee();return Cr=(t,r,n)=>new e(t,n).compare(new e(r,n))}function Ft(){if(Mr)return zr;Mr=1;const e=ee();return zr=(t,r,n)=>{const s=new e(t,n),l=new e(r,n);return s.compare(l)||s.compareBuild(l)}}function We(){if(Xr)return Wr;Xr=1;const e=oe();return Wr=(t,r,n)=>e(t,r,n)>0}function kt(){if(Yr)return Hr;Yr=1;const e=oe();return Hr=(t,r,n)=>e(t,r,n)<0}function Sn(){if(Jr)return qr;Jr=1;const e=oe();return qr=(t,r,n)=>e(t,r,n)===0}function Ln(){if(Kr)return Qr;Kr=1;const e=oe();return Qr=(t,r,n)=>e(t,r,n)!==0}function Dt(){if(en)return Zr;en=1;const e=oe();return Zr=(t,r,n)=>e(t,r,n)>=0}function _t(){if(rn)return tn;rn=1;const e=oe();return tn=(t,r,n)=>e(t,r,n)<=0}function Tn(){if(on)return nn;on=1;const e=Sn(),t=Ln(),r=We(),n=Dt(),s=kt(),l=_t();return nn=(a,c,o,f)=>{switch(c){case"===":return typeof a=="object"&&(a=a.version),typeof o=="object"&&(o=o.version),a===o;case"!==":return typeof a=="object"&&(a=a.version),typeof o=="object"&&(o=o.version),a!==o;case"":case"=":case"==":return e(a,o,f);case"!=":return t(a,o,f);case">":return r(a,o,f);case">=":return n(a,o,f);case"<":return s(a,o,f);case"<=":return l(a,o,f);default:throw new TypeError(`Invalid operator: ${c}`)}}}function ae(){if(cn)return yt;cn=1;const e=/\s+/g;class t{constructor(p,A){if(A=n(A),p instanceof t)return p.loose===!!A.loose&&p.includePrerelease===!!A.includePrerelease?p:new t(p.raw,A);if(p instanceof s)return this.raw=p.value,this.set=[[p]],this.formatted=void 0,this;if(this.options=A,this.loose=!!A.loose,this.includePrerelease=!!A.includePrerelease,this.raw=p.trim().replace(e," "),this.set=this.raw.split("||").map(w=>this.parseRange(w.trim())).filter(w=>w.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const w=this.set[0];if(this.set=this.set.filter(b=>!u(b[0])),this.set.length===0)this.set=[w];else if(this.set.length>1){for(const b of this.set)if(b.length===1&&Q(b[0])){this.set=[b];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let p=0;p<this.set.length;p++){p>0&&(this.formatted+="||");const A=this.set[p];for(let w=0;w<A.length;w++)w>0&&(this.formatted+=" "),this.formatted+=A[w].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(p){const A=((this.options.includePrerelease&&g)|(this.options.loose&&x))+":"+p,w=r.get(A);if(w)return w;const b=this.options.loose,y=b?c[o.HYPHENRANGELOOSE]:c[o.HYPHENRANGE];p=p.replace(y,Ne(this.options.includePrerelease)),l("hyphen replace",p),p=p.replace(c[o.COMPARATORTRIM],f),l("comparator trim",p),p=p.replace(c[o.TILDETRIM],i),l("tilde trim",p),p=p.replace(c[o.CARETTRIM],d),l("caret trim",p);let $=p.split(" ").map(R=>Y(R,this.options)).join(" ").split(/\s+/).map(R=>$e(R,this.options));b&&($=$.filter(R=>(l("loose invalid filter",R,this.options),!!R.match(c[o.COMPARATORLOOSE])))),l("range list",$);const D=new Map,O=$.map(R=>new s(R,this.options));for(const R of O){if(u(R))return[R];D.set(R.value,R)}D.size>1&&D.has("")&&D.delete("");const T=[...D.values()];return r.set(A,T),T}intersects(p,A){if(!(p instanceof t))throw new TypeError("a Range is required");return this.set.some(w=>k(w,A)&&p.set.some(b=>k(b,A)&&w.every(y=>b.every($=>y.intersects($,A)))))}test(p){if(!p)return!1;if(typeof p=="string")try{p=new a(p,this.options)}catch{return!1}for(let A=0;A<this.set.length;A++)if(ie(this.set[A],p,this.options))return!0;return!1}}yt=t;const r=new(ln?sn:(ln=1,sn=class{constructor(){this.max=1e3,this.map=new Map}get(h){const p=this.map.get(h);return p===void 0?void 0:(this.map.delete(h),this.map.set(h,p),p)}delete(h){return this.map.delete(h)}set(h,p){if(!this.delete(h)&&p!==void 0){if(this.map.size>=this.max){const A=this.map.keys().next().value;this.delete(A)}this.map.set(h,p)}return this}})),n=Ct(),s=Xe(),l=Ve(),a=ee(),{safeRe:c,t:o,comparatorTrimReplace:f,tildeTrimReplace:i,caretTrimReplace:d}=Le(),{FLAG_INCLUDE_PRERELEASE:g,FLAG_LOOSE:x}=Be(),u=h=>h.value==="<0.0.0-0",Q=h=>h.value==="",k=(h,p)=>{let A=!0;const w=h.slice();let b=w.pop();for(;A&&w.length;)A=w.every(y=>b.intersects(y,p)),b=w.pop();return A},Y=(h,p)=>(l("comp",h,p),h=B(h,p),l("caret",h),h=q(h,p),l("tildes",h),h=K(h,p),l("xrange",h),h=we(h,p),l("stars",h),h),j=h=>!h||h.toLowerCase()==="x"||h==="*",q=(h,p)=>h.trim().split(/\s+/).map(A=>U(A,p)).join(" "),U=(h,p)=>{const A=p.loose?c[o.TILDELOOSE]:c[o.TILDE];return h.replace(A,(w,b,y,$,D)=>{let O;return l("tilde",h,w,b,y,$,D),j(b)?O="":j(y)?O=`>=${b}.0.0 <${+b+1}.0.0-0`:j($)?O=`>=${b}.${y}.0 <${b}.${+y+1}.0-0`:D?(l("replaceTilde pr",D),O=`>=${b}.${y}.${$}-${D} <${b}.${+y+1}.0-0`):O=`>=${b}.${y}.${$} <${b}.${+y+1}.0-0`,l("tilde return",O),O})},B=(h,p)=>h.trim().split(/\s+/).map(A=>W(A,p)).join(" "),W=(h,p)=>{l("caret",h,p);const A=p.loose?c[o.CARETLOOSE]:c[o.CARET],w=p.includePrerelease?"-0":"";return h.replace(A,(b,y,$,D,O)=>{let T;return l("caret",h,b,y,$,D,O),j(y)?T="":j($)?T=`>=${y}.0.0${w} <${+y+1}.0.0-0`:j(D)?T=y==="0"?`>=${y}.${$}.0${w} <${y}.${+$+1}.0-0`:`>=${y}.${$}.0${w} <${+y+1}.0.0-0`:O?(l("replaceCaret pr",O),T=y==="0"?$==="0"?`>=${y}.${$}.${D}-${O} <${y}.${$}.${+D+1}-0`:`>=${y}.${$}.${D}-${O} <${y}.${+$+1}.0-0`:`>=${y}.${$}.${D}-${O} <${+y+1}.0.0-0`):(l("no pr"),T=y==="0"?$==="0"?`>=${y}.${$}.${D}${w} <${y}.${$}.${+D+1}-0`:`>=${y}.${$}.${D}${w} <${y}.${+$+1}.0-0`:`>=${y}.${$}.${D} <${+y+1}.0.0-0`),l("caret return",T),T})},K=(h,p)=>(l("replaceXRanges",h,p),h.split(/\s+/).map(A=>le(A,p)).join(" ")),le=(h,p)=>{h=h.trim();const A=p.loose?c[o.XRANGELOOSE]:c[o.XRANGE];return h.replace(A,(w,b,y,$,D,O)=>{l("xRange",h,w,b,y,$,D,O);const T=j(y),R=T||j($),M=R||j(D),m=M;return b==="="&&m&&(b=""),O=p.includePrerelease?"-0":"",T?w=b===">"||b==="<"?"<0.0.0-0":"*":b&&m?(R&&($=0),D=0,b===">"?(b=">=",R?(y=+y+1,$=0,D=0):($=+$+1,D=0)):b==="<="&&(b="<",R?y=+y+1:$=+$+1),b==="<"&&(O="-0"),w=`${b+y}.${$}.${D}${O}`):R?w=`>=${y}.0.0${O} <${+y+1}.0.0-0`:M&&(w=`>=${y}.${$}.0${O} <${y}.${+$+1}.0-0`),l("xRange return",w),w})},we=(h,p)=>(l("replaceStars",h,p),h.trim().replace(c[o.STAR],"")),$e=(h,p)=>(l("replaceGTE0",h,p),h.trim().replace(c[p.includePrerelease?o.GTE0PRE:o.GTE0],"")),Ne=h=>(p,A,w,b,y,$,D,O,T,R,M,m)=>`${A=j(w)?"":j(b)?`>=${w}.0.0${h?"-0":""}`:j(y)?`>=${w}.${b}.0${h?"-0":""}`:$?`>=${A}`:`>=${A}${h?"-0":""}`} ${O=j(T)?"":j(R)?`<${+T+1}.0.0-0`:j(M)?`<${T}.${+R+1}.0-0`:m?`<=${T}.${R}.${M}-${m}`:h?`<${T}.${R}.${+M+1}-0`:`<=${O}`}`.trim(),ie=(h,p,A)=>{for(let w=0;w<h.length;w++)if(!h[w].test(p))return!1;if(p.prerelease.length&&!A.includePrerelease){for(let w=0;w<h.length;w++)if(l(h[w].semver),h[w].semver!==s.ANY&&h[w].semver.prerelease.length>0){const b=h[w].semver;if(b.major===p.major&&b.minor===p.minor&&b.patch===p.patch)return!0}return!1}return!0};return yt}function Xe(){if(fn)return wt;fn=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(i,d){if(d=r(d),i instanceof t){if(i.loose===!!d.loose)return i;i=i.value}i=i.trim().split(/\s+/).join(" "),a("comparator",i,d),this.options=d,this.loose=!!d.loose,this.parse(i),this.semver===e?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(i){const d=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],g=i.match(d);if(!g)throw new TypeError(`Invalid comparator: ${i}`);this.operator=g[1]!==void 0?g[1]:"",this.operator==="="&&(this.operator=""),g[2]?this.semver=new c(g[2],this.options.loose):this.semver=e}toString(){return this.value}test(i){if(a("Comparator.test",i,this.options.loose),this.semver===e||i===e)return!0;if(typeof i=="string")try{i=new c(i,this.options)}catch{return!1}return l(i,this.operator,this.semver,this.options)}intersects(i,d){if(!(i instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""||new o(i.value,d).test(this.value):i.operator===""?i.value===""||new o(this.value,d).test(i.semver):(!(d=r(d)).includePrerelease||this.value!=="<0.0.0-0"&&i.value!=="<0.0.0-0")&&!(!d.includePrerelease&&(this.value.startsWith("<0.0.0")||i.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!i.operator.startsWith(">"))||!(!this.operator.startsWith("<")||!i.operator.startsWith("<"))||!(this.semver.version!==i.semver.version||!this.operator.includes("=")||!i.operator.includes("="))||!!(l(this.semver,"<",i.semver,d)&&this.operator.startsWith(">")&&i.operator.startsWith("<"))||!!(l(this.semver,">",i.semver,d)&&this.operator.startsWith("<")&&i.operator.startsWith(">")))}}wt=t;const r=Ct(),{safeRe:n,t:s}=Le(),l=Tn(),a=Ve(),c=ee(),o=ae();return wt}function He(){if(un)return Ot;un=1;const e=ae();return Ot=(t,r,n)=>{try{r=new e(r,n)}catch{return!1}return r.test(t)},Ot}function co(){if(gn)return Nt;gn=1;const e=ae();return Nt=(t,r)=>{try{return new e(t,r).range||"*"}catch{return null}},Nt}function jt(){if(vn)return St;vn=1;const e=ee(),t=Xe(),{ANY:r}=t,n=ae(),s=He(),l=We(),a=kt(),c=_t(),o=Dt();return St=(f,i,d,g)=>{let x,u,Q,k,Y;switch(f=new e(f,g),i=new n(i,g),d){case">":x=l,u=c,Q=a,k=">",Y=">=";break;case"<":x=a,u=o,Q=l,k="<",Y="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(f,i,g))return!1;for(let j=0;j<i.set.length;++j){const q=i.set[j];let U=null,B=null;if(q.forEach(W=>{W.semver===r&&(W=new t(">=0.0.0")),U=U||W,B=B||W,x(W.semver,U.semver,g)?U=W:Q(W.semver,B.semver,g)&&(B=W)}),U.operator===k||U.operator===Y||(!B.operator||B.operator===k)&&u(f,B.semver)||B.operator===Y&&Q(f,B.semver))return!1}return!0},St}var xn=(function(){if($n)return Rn;$n=1;const e=Le(),t=Be(),r=ee(),n=Nn(),s=Ae(),l=(function(){if(wr)return mt;wr=1;const m=Ae();return mt=(E,I)=>{const v=m(E,I);return v?v.version:null},mt})(),a=(function(){if(Or)return gt;Or=1;const m=Ae();return gt=(E,I)=>{const v=m(E.trim().replace(/^[=v]+/,""),I);return v?v.version:null},gt})(),c=(function(){if(Ir)return vt;Ir=1;const m=ee();return vt=(E,I,v,S,N)=>{typeof v=="string"&&(N=S,S=v,v=void 0);try{return new m(E instanceof m?E.version:E,v).inc(I,S,N).version}catch{return null}},vt})(),o=(function(){if(Rr)return Ar;Rr=1;const m=Ae();return Ar=(E,I)=>{const v=m(E,null,!0),S=m(I,null,!0),N=v.compare(S);if(N===0)return null;const L=N>0,X=L?v:S,_=L?S:v,Z=!!X.prerelease.length;if(_.prerelease.length&&!Z){if(!_.patch&&!_.minor)return"major";if(_.compareMain(X)===0)return _.minor&&!_.patch?"minor":"patch"}const P=Z?"pre":"";return v.major!==S.major?P+"major":v.minor!==S.minor?P+"minor":v.patch!==S.patch?P+"patch":"prerelease"}})(),f=(function(){if(Nr)return $r;Nr=1;const m=ee();return $r=(E,I)=>new m(E,I).major})(),i=(function(){if(Lr)return Sr;Lr=1;const m=ee();return Sr=(E,I)=>new m(E,I).minor})(),d=(function(){if(xr)return Tr;xr=1;const m=ee();return Tr=(E,I)=>new m(E,I).patch})(),g=(function(){if(Pr)return Et;Pr=1;const m=Ae();return Et=(E,I)=>{const v=m(E,I);return v&&v.prerelease.length?v.prerelease:null},Et})(),x=oe(),u=(function(){if(Dr)return kr;Dr=1;const m=oe();return kr=(E,I,v)=>m(I,E,v)})(),Q=(function(){if(jr)return _r;jr=1;const m=oe();return _r=(E,I)=>m(E,I,!0)})(),k=Ft(),Y=(function(){if(Ur)return Gr;Ur=1;const m=Ft();return Gr=(E,I)=>E.sort((v,S)=>m(v,S,I))})(),j=(function(){if(Vr)return Br;Vr=1;const m=Ft();return Br=(E,I)=>E.sort((v,S)=>m(S,v,I))})(),q=We(),U=kt(),B=Sn(),W=Ln(),K=Dt(),le=_t(),we=Tn(),$e=(function(){if(an)return bt;an=1;const m=ee(),E=Ae(),{safeRe:I,t:v}=Le();return bt=(S,N)=>{if(S instanceof m)return S;if(typeof S=="number"&&(S=String(S)),typeof S!="string")return null;let L=null;if((N=N||{}).rtl){const C=N.includePrerelease?I[v.COERCERTLFULL]:I[v.COERCERTL];let z;for(;(z=C.exec(S))&&(!L||L.index+L[0].length!==S.length);)L&&z.index+z[0].length===L.index+L[0].length||(L=z),C.lastIndex=z.index+z[1].length+z[2].length;C.lastIndex=-1}else L=S.match(N.includePrerelease?I[v.COERCEFULL]:I[v.COERCE]);if(L===null)return null;const X=L[2],_=L[3]||"0",Z=L[4]||"0",P=N.includePrerelease&&L[5]?`-${L[5]}`:"",G=N.includePrerelease&&L[6]?`+${L[6]}`:"";return E(`${X}.${_}.${Z}${P}${G}`,N)},bt})(),Ne=Xe(),ie=ae(),h=He(),p=(function(){if(dn)return It;dn=1;const m=ae();return It=(E,I)=>new m(E,I).set.map(v=>v.map(S=>S.value).join(" ").trim().split(" ")),It})(),A=(function(){if(pn)return At;pn=1;const m=ee(),E=ae();return At=(I,v,S)=>{let N=null,L=null,X=null;try{X=new E(v,S)}catch{return null}return I.forEach(_=>{X.test(_)&&(N&&L.compare(_)!==-1||(N=_,L=new m(N,S)))}),N},At})(),w=(function(){if(hn)return Rt;hn=1;const m=ee(),E=ae();return Rt=(I,v,S)=>{let N=null,L=null,X=null;try{X=new E(v,S)}catch{return null}return I.forEach(_=>{X.test(_)&&(N&&L.compare(_)!==1||(N=_,L=new m(N,S)))}),N},Rt})(),b=(function(){if(mn)return $t;mn=1;const m=ee(),E=ae(),I=We();return $t=(v,S)=>{v=new E(v,S);let N=new m("0.0.0");if(v.test(N)||(N=new m("0.0.0-0"),v.test(N)))return N;N=null;for(let L=0;L<v.set.length;++L){const X=v.set[L];let _=null;X.forEach(Z=>{const P=new m(Z.semver.version);switch(Z.operator){case">":P.prerelease.length===0?P.patch++:P.prerelease.push(0),P.raw=P.format();case"":case">=":_&&!I(P,_)||(_=P);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${Z.operator}`)}}),!_||N&&!I(N,_)||(N=_)}return N&&v.test(N)?N:null},$t})(),y=co(),$=jt(),D=(function(){if(En)return Lt;En=1;const m=jt();return Lt=(E,I,v)=>m(E,I,">",v),Lt})(),O=(function(){if(bn)return Tt;bn=1;const m=jt();return Tt=(E,I,v)=>m(E,I,"<",v),Tt})(),T=(function(){if(wn)return yn;wn=1;const m=ae();return yn=(E,I,v)=>(E=new m(E,v),I=new m(I,v),E.intersects(I,v))})(),R=(function(){if(On)return xt;On=1;const m=He(),E=oe();return xt=(I,v,S)=>{const N=[];let L=null,X=null;const _=I.sort((C,z)=>E(C,z,S));for(const C of _)m(C,v,S)?(X=C,L||(L=C)):(X&&N.push([L,X]),X=null,L=null);L&&N.push([L,null]);const Z=[];for(const[C,z]of N)C===z?Z.push(C):z||C!==_[0]?z?C===_[0]?Z.push(`<=${z}`):Z.push(`${C} - ${z}`):Z.push(`>=${C}`):Z.push("*");const P=Z.join(" || "),G=typeof v.raw=="string"?v.raw:String(v);return P.length<G.length?P:v},xt})(),M=(function(){if(An)return In;An=1;const m=ae(),E=Xe(),{ANY:I}=E,v=He(),S=oe(),N=[new E(">=0.0.0-0")],L=[new E(">=0.0.0")],X=(P,G,C)=>{if(P===G)return!0;if(P.length===1&&P[0].semver===I){if(G.length===1&&G[0].semver===I)return!0;P=C.includePrerelease?N:L}if(G.length===1&&G[0].semver===I){if(C.includePrerelease)return!0;G=L}const z=new Set;let J,H,ce,et,tt,rt,nt;for(const F of P)F.operator===">"||F.operator===">="?J=_(J,F,C):F.operator==="<"||F.operator==="<="?H=Z(H,F,C):z.add(F.semver);if(z.size>1||J&&H&&(ce=S(J.semver,H.semver,C),ce>0||ce===0&&(J.operator!==">="||H.operator!=="<=")))return null;for(const F of z){if(J&&!v(F,String(J),C)||H&&!v(F,String(H),C))return null;for(const ii of G)if(!v(F,String(ii),C))return!1;return!0}let se=!(!H||C.includePrerelease||!H.semver.prerelease.length)&&H.semver,Oe=!(!J||C.includePrerelease||!J.semver.prerelease.length)&&J.semver;se&&se.prerelease.length===1&&H.operator==="<"&&se.prerelease[0]===0&&(se=!1);for(const F of G){if(nt=nt||F.operator===">"||F.operator===">=",rt=rt||F.operator==="<"||F.operator==="<=",J){if(Oe&&F.semver.prerelease&&F.semver.prerelease.length&&F.semver.major===Oe.major&&F.semver.minor===Oe.minor&&F.semver.patch===Oe.patch&&(Oe=!1),F.operator===">"||F.operator===">="){if(et=_(J,F,C),et===F&&et!==J)return!1}else if(J.operator===">="&&!v(J.semver,String(F),C))return!1}if(H){if(se&&F.semver.prerelease&&F.semver.prerelease.length&&F.semver.major===se.major&&F.semver.minor===se.minor&&F.semver.patch===se.patch&&(se=!1),F.operator==="<"||F.operator==="<="){if(tt=Z(H,F,C),tt===F&&tt!==H)return!1}else if(H.operator==="<="&&!v(H.semver,String(F),C))return!1}if(!F.operator&&(H||J)&&ce!==0)return!1}return!(J&&rt&&!H&&ce!==0||H&&nt&&!J&&ce!==0||Oe||se)},_=(P,G,C)=>{if(!P)return G;const z=S(P.semver,G.semver,C);return z>0?P:z<0||G.operator===">"&&P.operator===">="?G:P},Z=(P,G,C)=>{if(!P)return G;const z=S(P.semver,G.semver,C);return z<0?P:z>0||G.operator==="<"&&P.operator==="<="?G:P};return In=(P,G,C={})=>{if(P===G)return!0;P=new m(P,C),G=new m(G,C);let z=!1;e:for(const J of P.set){for(const H of G.set){const ce=X(J,H,C);if(z=z||ce!==null,ce)continue e}if(z)return!1}return!0}})();return Rn={parse:s,valid:l,clean:a,inc:c,diff:o,major:f,minor:i,patch:d,prerelease:g,compare:x,rcompare:u,compareLoose:Q,compareBuild:k,sort:Y,rsort:j,gt:q,lt:U,eq:B,neq:W,gte:K,lte:le,cmp:we,coerce:$e,Comparator:Ne,Range:ie,satisfies:h,toComparators:p,maxSatisfying:A,minSatisfying:w,minVersion:b,validRange:y,outside:$,gtr:D,ltr:O,intersects:T,simplifyRange:R,subset:M,SemVer:r,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:t.SEMVER_SPEC_VERSION,RELEASE_TYPES:t.RELEASE_TYPES,compareIdentifiers:n.compareIdentifiers,rcompareIdentifiers:n.rcompareIdentifiers}})();const fo="5.23.0",uo=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:li,accessPathWithDatum:ci,accessWithDatumToUnescapedPath:fi,compile:ui,contains:di,deepEqual:pi,deleteNestedProperty:hi,duplicate:mi,entries:gi,every:vi,fieldIntersection:Ei,flatAccessWithDatum:bi,getFirstDefined:yi,hasIntersection:wi,hasProperty:Oi,hash:Ii,internalField:Ai,isBoolean:Ri,isEmpty:$i,isEqual:Ni,isInternalField:Si,isNullOrFalse:Li,isNumeric:Ti,keys:xi,logicalExpr:Pi,mergeDeep:Ci,never:Fi,normalize:ki,normalizeAngle:Di,omit:_i,pick:ji,prefixGenerator:zi,removePathFromField:Mi,replaceAll:Gi,replacePathInField:Ui,resetIdCounter:Bi,setEqual:Vi,some:Wi,stringify:Xi,titleCase:Hi,unique:Yi,uniqueId:qi,vals:Ji,varName:Qi,version:fo},Symbol.toStringTag,{value:"Module"}));var Pn,zt={},po=(Pn||(Pn=1,Object.defineProperty(zt,"__esModule",{value:!0}),zt.default=function(e){var t=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t[0],version:t[1]}}),zt);const Cn=Zt(po);var ho="2.15.0";const Re="#fff",Fn="#888",mo={background:"#333",view:{stroke:Fn},title:{color:Re,subtitleColor:Re},style:{"guide-label":{fill:Re},"guide-title":{fill:Re}},axis:{domainColor:Re,gridColor:Fn,tickColor:Re}},he="#4572a7",go={background:"#fff",arc:{fill:he},area:{fill:he},line:{stroke:he,strokeWidth:2},path:{stroke:he},rect:{fill:he},shape:{stroke:he},symbol:{fill:he,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},me="#30a2da",Mt="#cbcbcb",kn="#f0f0f0",Dn="#333",vo={arc:{fill:me},area:{fill:me},axis:{domainColor:Mt,grid:!0,gridColor:Mt,gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:Mt,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:kn,group:{fill:kn},legend:{labelColor:Dn,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:Dn,titleFontSize:14,titlePadding:10},line:{stroke:me,strokeWidth:2},path:{stroke:me,strokeWidth:.5},rect:{fill:me},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:me},bar:{binSpacing:2,fill:me,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ge="#000",Eo={group:{fill:"#e5e5e5"},arc:{fill:ge},area:{fill:ge},line:{stroke:ge},path:{stroke:ge},rect:{fill:ge},shape:{stroke:ge},symbol:{fill:ge,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},_n="Benton Gothic, sans-serif",ve="#82c6df",Gt="Benton Gothic Bold, sans-serif",jn="normal",Te={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"]},bo={background:"#ffffff",title:{anchor:"start",color:"#000000",font:Gt,fontSize:22,fontWeight:"normal"},arc:{fill:ve},area:{fill:ve},line:{stroke:ve,strokeWidth:2},path:{stroke:ve},rect:{fill:ve},shape:{stroke:ve},symbol:{fill:ve,size:30},axis:{labelFont:_n,labelFontSize:11.5,labelFontWeight:"normal",titleFont:Gt,titleFontSize:13,titleFontWeight:jn},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:_n,labelFontSize:11.5,symbolType:"square",titleFont:Gt,titleFontSize:13,titleFontWeight:jn},range:{category:Te["category-6"],diverging:Te["fireandice-6"],heatmap:Te["fire-7"],ordinal:Te["fire-7"],ramp:Te["fire-7"]}},Ee="#ab5787",Ye="#979797",yo={background:"#f9f9f9",arc:{fill:Ee},area:{fill:Ee},line:{stroke:Ee},path:{stroke:Ee},rect:{fill:Ee},shape:{stroke:Ee},symbol:{fill:Ee,size:30},axis:{domainColor:Ye,domainWidth:.5,gridWidth:.2,labelColor:Ye,tickColor:Ye,tickWidth:.2,titleColor:Ye},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},be="#3e5c69",wo={background:"#fff",arc:{fill:be},area:{fill:be},line:{stroke:be},path:{stroke:be},rect:{fill:be},shape:{stroke:be},symbol:{fill:be},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},re="#1696d2",zn="#000000",qe="Lato",Ut="Lato",xe={"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},Oo={background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:qe},axisX:{domain:!0,domainColor:zn,domainWidth:1,grid:!1,labelFontSize:12,labelFont:Ut,labelAngle:0,tickColor:zn,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:qe},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:Ut,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:qe,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:Ut,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:qe,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:xe["six-groups-cat-1"],diverging:xe["diverging-colors"],heatmap:xe["diverging-colors"],ordinal:xe["six-groups-seq"],ramp:xe["shades-blue"]},area:{fill:re},rect:{fill:re},line:{color:re,stroke:re,strokeWidth:5},trail:{color:re,stroke:re,strokeWidth:0,size:1},path:{stroke:re,strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:re,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:re,stroke:null}},arc:{fill:re},shape:{stroke:re},symbol:{fill:re,size:30}},ye="#3366CC",Mn="#ccc",Je="Arial, sans-serif",Io={arc:{fill:ye},area:{fill:ye},path:{stroke:ye},rect:{fill:ye},shape:{stroke:ye},symbol:{stroke:ye},circle:{fill:ye},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:Je,fontSize:12},"guide-title":{font:Je,fontSize:12},"group-title":{font:Je,fontSize:12}},title:{font:Je,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:Mn,tickColor:Mn,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},Bt=e=>e*(1/3+1),Gn=Bt(9),Un=Bt(10),Bn=Bt(12),Pe="Segoe UI",Vn="wf_standard-font, helvetica, arial, sans-serif",Wn="#252423",Ce="#605E5C",Xn="transparent",ne="#118DFF",Hn="#DEEFFF",Yn=[Hn,ne],Ao={view:{stroke:Xn},background:Xn,font:Pe,header:{titleFont:Vn,titleFontSize:Bn,titleColor:Wn,labelFont:Pe,labelFontSize:Un,labelColor:Ce},axis:{ticks:!1,grid:!1,domain:!1,labelColor:Ce,labelFontSize:Gn,titleFont:Vn,titleColor:Wn,titleFontSize:Bn,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:"#C8C6C4",gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:ne},line:{stroke:ne,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:Pe,fontSize:Gn,fill:Ce},arc:{fill:ne},area:{fill:ne,line:!0,opacity:.6},path:{stroke:ne},rect:{fill:ne},point:{fill:ne,filled:!0,size:75},shape:{stroke:ne},symbol:{fill:ne,strokeWidth:1.5,size:50},legend:{titleFont:Pe,titleFontWeight:"bold",titleColor:Ce,labelFont:Pe,labelFontSize:Un,labelColor:Ce,symbolType:"circle",symbolSize:75},range:{category:[ne,"#12239E","#E66C37","#6B007B","#E044A7","#744EC2","#D9B300","#D64550"],diverging:Yn,heatmap:Yn,ordinal:[Hn,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",ne]}},Vt='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',Qe={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},Ro=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],$o=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function Ke({theme:e,background:t}){const r=["white","g10"].includes(e)?"light":"dark",n=Qe.gridBg[e],s=Qe.textPrimary[e],l=Qe.textSecondary[e],a=r==="dark"?Ro:$o,c=r==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:c},area:{fill:c},path:{stroke:c},rect:{fill:c},shape:{stroke:c},symbol:{stroke:c},circle:{fill:c},view:{fill:n,stroke:n},group:{fill:n},title:{color:s,anchor:"start",dy:-15,fontSize:16,font:Vt,fontWeight:600},axis:{labelColor:l,labelFontSize:12,labelFont:'IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',labelFontWeight:400,titleColor:s,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:Qe.layerAccent01[e],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:Vt,fill:l,fontWeight:400},"guide-title":{font:Vt,fill:l,fontWeight:400}},range:{category:a,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const No=Ke({theme:"white",background:"#ffffff"}),So=Ke({theme:"g10",background:"#f4f4f4"}),Lo=Ke({theme:"g90",background:"#262626"}),To=Ke({theme:"g100",background:"#161616"}),xo=ho,Po=Object.freeze(Object.defineProperty({__proto__:null,carbong10:So,carbong100:To,carbong90:Lo,carbonwhite:No,dark:mo,excel:go,fivethirtyeight:vo,ggplot2:Eo,googlecharts:Io,latimes:bo,powerbi:Ao,quartz:yo,urbaninstitute:Oo,version:xo,vox:wo},Symbol.toStringTag,{value:"Module"})),Co=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black; }
  #vg-tooltip-element.visible {
    visibility: visible; }
  #vg-tooltip-element h2 {
    margin-top: 0;
    margin-bottom: 10px;
    font-size: 13px; }
  #vg-tooltip-element table {
    border-spacing: 0; }
    #vg-tooltip-element table tr {
      border: none; }
      #vg-tooltip-element table tr td {
        overflow: hidden;
        text-overflow: ellipsis;
        padding-top: 2px;
        padding-bottom: 2px; }
        #vg-tooltip-element table tr td.key {
          color: #808080;
          max-width: 150px;
          text-align: right;
          padding-right: 4px; }
        #vg-tooltip-element table tr td.value {
          display: block;
          max-width: 300px;
          max-height: 7em;
          text-align: left; }
  #vg-tooltip-element.dark-theme {
    background-color: rgba(32, 32, 32, 0.9);
    border: 1px solid #f5f5f5;
    color: white; }
    #vg-tooltip-element.dark-theme td.key {
      color: #bfbfbf; }
`,qn="vg-tooltip-element",Fo={offsetX:10,offsetY:10,id:qn,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")},maxDepth:2};var ko=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]])}return r};function Jn(e,t){return JSON.stringify(e,(function(r){const n=[];return function(s,l){if(typeof l!="object"||l===null)return l;const a=n.indexOf(this)+1;return n.length=a,n.length>r?"[Object]":n.indexOf(l)>=0?"[Circular]":(n.push(l),l)}})(t))}class Do{constructor(t){this.options=Object.assign(Object.assign({},Fo),t);const r=this.options.id;if(this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const n=document.createElement("style");n.setAttribute("id",this.options.styleId),n.innerHTML=(function(l){if(!/^[A-Za-z]+[-:.\w]*$/.test(l))throw new Error("Invalid HTML ID");return Co.toString().replace(qn,l)})(r);const s=document.head;s.childNodes.length>0?s.insertBefore(n,s.childNodes[0]):s.appendChild(n)}this.el=document.getElementById(r),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",r),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}tooltipHandler(t,r,n,s){if(s==null||s==="")return void this.el.classList.remove("visible",`${this.options.theme}-theme`);this.el.innerHTML=(function(c,o,f){if(oi(c))return`[${c.map(i=>o(_e(i)?i:Jn(i,f))).join(", ")}]`;if(er(c)){let i="";const d=c,{title:g}=d,x=ko(d,["title"]);g&&(i+=`<h2>${o(g)}</h2>`);const u=Object.keys(x);if(u.length>0){i+="<table>";for(const Q of u){let k=x[Q];k!==void 0&&(er(k)&&(k=Jn(k,f)),i+=`<tr><td class="key">${o(Q)}:</td><td class="value">${o(k)}</td></tr>`)}i+="</table>"}return i||"{}"}return o(c)})(s,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:l,y:a}=(function(c,o,f,i){let d=c.clientX+f;d+o.width>window.innerWidth&&(d=+c.clientX-f-o.width);let g=c.clientY+i;return g+o.height>window.innerHeight&&(g=+c.clientY-i-o.height),{x:d,y:g}})(r,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style",`top: ${a}px; left: ${l}px`)}}const _o=`.vega-embed {
  position: relative;
  display: inline-block; }
  .vega-embed.has-actions {
    padding-right: 38px; }
  .vega-embed details:not([open]) > :not(summary) {
    display: none !important; }
  .vega-embed summary {
    list-style: none;
    position: absolute;
    top: 0;
    right: 0;
    padding: 6px;
    z-index: 1000;
    background: white;
    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
    color: #1b1e23;
    border: 1px solid #aaa;
    border-radius: 999px;
    opacity: 0.2;
    transition: opacity 0.4s ease-in;
    outline: none;
    cursor: pointer;
    line-height: 0px; }
    .vega-embed summary::-webkit-details-marker {
      display: none; }
    .vega-embed summary:active {
      box-shadow: #aaa 0px 0px 0px 1px inset; }
    .vega-embed summary svg {
      width: 14px;
      height: 14px; }
  .vega-embed details[open] summary {
    opacity: 0.7; }
  .vega-embed:hover summary,
  .vega-embed:focus summary {
    opacity: 1 !important;
    transition: opacity 0.2s ease; }
  .vega-embed .vega-actions {
    position: absolute;
    z-index: 1001;
    top: 35px;
    right: -9px;
    display: flex;
    flex-direction: column;
    padding-bottom: 8px;
    padding-top: 8px;
    border-radius: 4px;
    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
    border: 1px solid #d9d9d9;
    background: white;
    animation-duration: 0.15s;
    animation-name: scale-in;
    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
    text-align: left; }
    .vega-embed .vega-actions a {
      padding: 8px 16px;
      font-family: sans-serif;
      font-size: 14px;
      font-weight: 600;
      white-space: nowrap;
      color: #434a56;
      text-decoration: none; }
      .vega-embed .vega-actions a:hover {
        background-color: #f7f7f9;
        color: black; }
    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
      content: "";
      display: inline-block;
      position: absolute; }
    .vega-embed .vega-actions::before {
      left: auto;
      right: 14px;
      top: -16px;
      border: 8px solid #0000;
      border-bottom-color: #d9d9d9; }
    .vega-embed .vega-actions::after {
      left: auto;
      right: 15px;
      top: -14px;
      border: 7px solid #0000;
      border-bottom-color: #fff; }

.vega-embed-wrapper {
  max-width: 100%;
  overflow: scroll;
  padding-right: 14px; }

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6); }
  to {
    opacity: 1;
    transform: scale(1); } }
`;function Qn(e,...t){for(const r of t)jo(e,r);return e}function jo(e,t){for(const r of Object.keys(t))ai(e,r,t[r],!0)}var Wt;String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e});const fe=Ki;let Fe=uo;const Xt=typeof window<"u"?window:void 0;Fe===void 0&&(!((Wt=Xt==null?void 0:Xt.vl)===null||Wt===void 0)&&Wt.compile)&&(Fe=Xt.vl);const zo={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},Mo={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},ke={vega:"Vega","vega-lite":"Vega-Lite"},Ze={vega:fe.version,"vega-lite":Fe?Fe.version:"not available"},Go={vega:e=>e,"vega-lite":(e,t)=>Fe.compile(e,{config:t}).spec},Uo=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`;function Kn(e,t,r,n){const s=`<html><head>${t}</head><body><pre><code class="json">`,l=`</code></pre>${r}</body></html>`,a=window.open("");a.document.write(s+e+l),a.document.title=`${ke[n]} JSON Source`}function Bo(e,t,r={}){var n,s,l;return je(this,void 0,void 0,function*(){const a=(c=r.loader)&&"load"in c?r.loader:fe.loader(r.loader);var c;const o=_e(t)?JSON.parse(yield a.load(t)):t,f=yield Zn((n=o.usermeta&&o.usermeta.embedOptions)!==null&&n!==void 0?n:{},a),i=yield Zn(r,a),d=Object.assign(Object.assign({},Qn(i,f)),{config:tr((s=i.config)!==null&&s!==void 0?s:{},(l=f.config)!==null&&l!==void 0?l:{})});return yield(function(g,x,u={},Q){var k,Y,j,q,U,B;return je(this,void 0,void 0,function*(){const W=u.theme?tr(Po[u.theme],(k=u.config)!==null&&k!==void 0?k:{}):u.config,K=si(u.actions)?u.actions:Qn({},zo,(Y=u.actions)!==null&&Y!==void 0?Y:{}),le=Object.assign(Object.assign({},Mo),u.i18n),we=(j=u.renderer)!==null&&j!==void 0?j:"canvas",$e=(q=u.logLevel)!==null&&q!==void 0?q:fe.Warn,Ne=(U=u.downloadFileName)!==null&&U!==void 0?U:"visualization";if(u.defaultStyle!==!1){const O="vega-embed-style";if(!document.getElementById(O)){const T=document.createElement("style");T.id=O,T.innerText=u.defaultStyle===void 0||u.defaultStyle===!0?_o.toString():u.defaultStyle,document.head.appendChild(T)}}const ie=(function(O,T){var R;if(O.$schema){const M=Cn(O.$schema);T&&T!==M.library&&console.warn(`The given visualization spec is written in ${ke[M.library]}, but mode argument sets ${(R=ke[T])!==null&&R!==void 0?R:T}.`);const m=M.library;return xn.satisfies(Ze[m],`^${M.version.slice(1)}`)||console.warn(`The input spec uses ${ke[m]} ${M.version}, but the current version of ${ke[m]} is v${Ze[m]}.`),m}return"mark"in O||"encoding"in O||"layer"in O||"hconcat"in O||"vconcat"in O||"facet"in O||"repeat"in O?"vega-lite":"marks"in O||"signals"in O||"scales"in O||"axes"in O?"vega":T??"vega"})(x,u.mode);let h=Go[ie](x,W);if(ie==="vega-lite"&&h.$schema){const O=Cn(h.$schema);xn.satisfies(Ze.vega,`^${O.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${O.version}, but current version is v${Ze.vega}.`)}const p=typeof g=="string"?document.querySelector(g):g;if(!p)throw Error(`${g} does not exist`);p.classList.add("vega-embed"),K&&p.classList.add("has-actions"),p.innerHTML="";const A=u.patch;A&&(h=A instanceof Function?A(h):Ge(h,A,!0,!1).newDocument),u.formatLocale&&fe.formatLocale(u.formatLocale),u.timeFormatLocale&&fe.timeFormatLocale(u.timeFormatLocale);const w=fe.parse(h,ie==="vega-lite"?{}:W),b=new fe.View(w,{loader:Q,logLevel:$e,renderer:we});if(u.tooltip!==!1){let O;O=typeof u.tooltip=="function"?u.tooltip:new Do(u.tooltip===!0?{}:u.tooltip).call,b.tooltip(O)}let y,{hover:$}=u;if($===void 0&&($=ie==="vega"),$){const{hoverSet:O,updateSet:T}=typeof $=="boolean"?{}:$;b.hover(O,T)}if(u&&(u.width!=null&&b.width(u.width),u.height!=null&&b.height(u.height),u.padding!=null&&b.padding(u.padding)),yield b.initialize(g).runAsync(),K!==!1){let O=p;if(u.defaultStyle!==!1){const R=document.createElement("details");R.title=le.CLICK_TO_VIEW_ACTIONS,p.append(R),O=R;const M=document.createElement("summary");M.innerHTML=Uo,R.append(M),y=m=>{R.contains(m.target)||R.removeAttribute("open")},document.addEventListener("click",y)}const T=document.createElement("div");if(O.append(T),T.classList.add("vega-actions"),K===!0||K.export!==!1){for(const R of["svg","png"])if(K===!0||K.export===!0||K.export[R]){const M=le[`${R.toUpperCase()}_ACTION`],m=document.createElement("a");m.text=M,m.href="#",m.target="_blank",m.download=`${Ne}.${R}`,m.addEventListener("mousedown",function(E){return je(this,void 0,void 0,function*(){E.preventDefault();const I=yield b.toImageURL(R,u.scaleFactor);this.href=I})}),T.append(m)}}if(K===!0||K.source!==!1){const R=document.createElement("a");R.text=le.SOURCE_ACTION,R.href="#",R.addEventListener("mousedown",function(M){var m,E;Kn(pt(x),(m=u.sourceHeader)!==null&&m!==void 0?m:"",(E=u.sourceFooter)!==null&&E!==void 0?E:"",ie),M.preventDefault()}),T.append(R)}if(ie==="vega-lite"&&(K===!0||K.compiled!==!1)){const R=document.createElement("a");R.text=le.COMPILED_ACTION,R.href="#",R.addEventListener("mousedown",function(M){var m,E;Kn(pt(h),(m=u.sourceHeader)!==null&&m!==void 0?m:"",(E=u.sourceFooter)!==null&&E!==void 0?E:"","vega"),M.preventDefault()}),T.append(R)}if(K===!0||K.editor!==!1){const R=(B=u.editorUrl)!==null&&B!==void 0?B:"https://vega.github.io/editor/",M=document.createElement("a");M.text=le.EDITOR_ACTION,M.href="#",M.addEventListener("mousedown",function(m){(function(E,I,v){const S=E.open(I);let N=40;E.addEventListener("message",function L(X){X.source===S&&(N=0,E.removeEventListener("message",L,!1))},!1),setTimeout(function L(){N<=0||(S.postMessage(v,"*"),setTimeout(L,250),N-=1)},250)})(window,R,{config:W,mode:ie,renderer:we,spec:pt(x)}),m.preventDefault()}),T.append(M)}}function D(){y&&document.removeEventListener("click",y),b.finalize()}return{view:b,spec:x,vgSpec:h,finalize:D}})})(e,o,d,a)})}function Zn(e,t){var r;return je(this,void 0,void 0,function*(){const n=_e(e.config)?JSON.parse(yield t.load(e.config)):(r=e.config)!==null&&r!==void 0?r:{},s=_e(e.patch)?JSON.parse(yield t.load(e.patch)):e.patch;return Object.assign(Object.assign(Object.assign({},e),s?{patch:s}:{}),n?{config:n}:{})})}function Vo(e,t){Object.keys(t).forEach(r=>{(function(n,s,l){var a;l&&((a=l)&&{}.toString.call(a)==="[object Function]"?l(n.data(s)):n.change(s,fe.changeset().remove(()=>!0).insert(l)))})(e,r,t[r])})}function ei(e){const t=new Set;return e.forEach(r=>{Object.keys(r).forEach(n=>{t.add(n)})}),t}const ti=()=>{};function Ht(e,t){const r=Object.keys(t);return r.forEach(n=>{try{e.addSignalListener(n,t[n])}catch(s){console.warn("Cannot add invalid signal listener.",s)}}),r.length>0}function ri(e,t){const r=Object.keys(t);return r.forEach(n=>{try{e.removeSignalListener(n,t[n])}catch(s){console.warn("Cannot remove invalid signal listener.",s)}}),r.length>0}function Yt(e){const{spec:t,width:r,height:n}=e;return r!==void 0&&n!==void 0?{...t,width:r,height:n}:r!==void 0?{...t,width:r}:n!==void 0?{...t,height:n}:t}function De(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ni extends ue.PureComponent{constructor(){super(...arguments),De(this,"containerRef",ue.createRef()),De(this,"resultPromise",void 0),De(this,"handleError",t=>{const{onError:r=ti}=this.props;r(t,this.containerRef.current),console.warn(t)}),De(this,"modifyView",t=>{this.resultPromise&&this.resultPromise.then(r=>(r&&t(r.view),!0)).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(t){const r=ei([this.props,t]);if(r.delete("className"),r.delete("signalListeners"),r.delete("spec"),r.delete("style"),r.delete("width"),r.delete("height"),Array.from(r).some(n=>this.props[n]!==t[n]))this.clearView(),this.createView();else{const n=(function(a,c){if(a===c)return!1;const o={width:!1,height:!1,isExpensive:!1},f=ei([a,c]);return!f.has("width")||"width"in a&&"width"in c&&a.width===c.width||("width"in a&&typeof a.width=="number"?o.width=a.width:o.isExpensive=!0),!f.has("height")||"height"in a&&"height"in c&&a.height===c.height||("height"in a&&typeof a.height=="number"?o.height=a.height:o.isExpensive=!0),f.delete("width"),f.delete("height"),[...f].some(i=>!(i in a)||!(i in c)||!Zi(a[i],c[i]))&&(o.isExpensive=!0),!(o.width===!1&&o.height===!1&&!o.isExpensive)&&o})(Yt(this.props),Yt(t)),{signalListeners:s}=this.props,{signalListeners:l}=t;if(n)if(n.isExpensive)this.clearView(),this.createView();else{const a=!it(s,l);this.modifyView(c=>{n.width!==!1&&c.width(n.width),n.height!==!1&&c.height(n.height),a&&(l&&ri(c,l),s&&Ht(c,s)),c.run()})}else it(s,l)||this.modifyView(a=>{l&&ri(a,l),s&&Ht(a,s),a.run()})}}componentWillUnmount(){this.clearView()}createView(){const{spec:t,onNewView:r,signalListeners:n={},width:s,height:l,...a}=this.props;if(this.containerRef.current){const c=Yt(this.props);this.resultPromise=Bo(this.containerRef.current,c,a).then(o=>{if(o){const{view:f}=o;Ht(f,n)&&f.run()}return o}).catch(this.handleError),r&&this.modifyView(r)}}clearView(){return this.resultPromise&&this.resultPromise.then(t=>{t&&t.finalize()}).catch(this.handleError),this.resultPromise=void 0,this}render(){const{className:t,style:r}=this.props;return ue.createElement("div",{ref:this.containerRef,className:t,style:r})}}function qt(){return qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qt.apply(this,arguments)}function Jt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}De(ni,"propTypes",{className:rr.string,onError:rr.func});class Qt extends ue.PureComponent{constructor(){super(...arguments),Jt(this,"vegaEmbed",ue.createRef()),Jt(this,"handleNewView",t=>{this.update();const{onNewView:r=ti}=this.props;r(t)})}componentDidMount(){this.update()}componentDidUpdate(t){it(this.props.data,t.data)||this.update()}update(){const{data:t}=this.props;this.vegaEmbed.current&&t&&Object.keys(t).length>0&&this.vegaEmbed.current.modifyView(r=>{Vo(r,t),r.resize().run()})}render(){const{data:t,...r}=this.props;return ue.createElement(ni,qt({ref:this.vegaEmbed},r,{onNewView:this.handleNewView}))}}function Kt(){return Kt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kt.apply(this,arguments)}function Wo(e){return ue.createElement(Qt,Kt({},e,{mode:"vega-lite"}))}Jt(Qt,"defaultProps",{data:{}});export{Qt as V,Wo as a};
