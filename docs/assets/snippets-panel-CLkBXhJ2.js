import{a as S,X as M,j as r,bR as G,r as $,u as F,a0 as J,b1 as V,b0 as A,b2 as R,aV as U,bS as X,bT as K,bU as W,p as H,a_ as N,bV as L,a$ as Q,ax as Y,d as Z,b as ee,T as te,S as re,bz as ie,E as oe,a1 as se,bm as ae,a2 as le,bW as ne,bp as me,bn as pe,P as ce,aB as de,bD as he,bo as xe,__tla as ue}from"./index-CelXfcd8.js";import{P as fe}from"./empty-state-DW308mFO.js";import{H as O,__tla as be}from"./edit-page-C5TsEeSo.js";import{B}from"./between-horizontal-start-BmYToIaM.js";import"./links-Drv7cJgN.js";import{__tla as je}from"./storage-Dr0CC44z.js";import"./index-BYVZlBF8.js";import"./index-_luCZMLM.js";import"./index-mkubqy9-.js";import"./index-BelfnXwL.js";import"./index-BneyUujp.js";import"./index-Csd6QrCV.js";import"./index-C02SqeRj.js";import"./index-M_pBKDSe.js";import"./index-C7dtgr9A.js";import"./index-CtPksxf0.js";import"./index-DONRrmA2.js";import"./index-z4krxQ4j.js";import"./index-CAQvMTzM.js";import"./apl-CXdQSnD-.js";import"./asciiarmor-D5V0T9Cu.js";import"./asn1-DWPaVWf6.js";import"./brainfuck-CtZaYBKt.js";import"./cobol-stawOqaz.js";import"./clike-BgBwzOhw.js";import"./clojure-DiuoqK-z.js";import"./css-ZjFoif2m.js";import"./cmake-DXn5xaP-.js";import"./coffeescript-BTDxI-eT.js";import"./commonlisp-vq6DHwts.js";import"./cypher-gJDei3ni.js";import"./python-DD-Q2bae.js";import"./crystal-CRzZ78HM.js";import"./d-BShv7fp-.js";import"./diff-UJJ5BM9S.js";import"./dtd-DI9Herc-.js";import"./dylan-DkEP81N9.js";import"./ecl-DPFc0Uaf.js";import"./eiffel-DR5c0IrL.js";import"./elm-DompmV0j.js";import"./erlang-BuqgqA5h.js";import"./factor-CFXhaUWb.js";import"./simple-mode-C3vEBAcb.js";import"./forth-POgR1ypr.js";import"./fortran-DL7KluxX.js";import"./mllike-3c2dg9RT.js";import"./gas-bV0CklSb.js";import"./gherkin-B6X1vGSW.js";import"./groovy-DnIzCrpZ.js";import"./haskell-CLQs6EAM.js";import"./haxe-D25e-2l-.js";import"./idl-pcmmZuaN.js";import"./javascript-BpzJj0-u.js";import"./jinja2-DhgKlfW7.js";import"./julia-DjdwvFuI.js";import"./livescript-HO6ttBFx.js";import"./lua-8DXOpKDz.js";import"./mirc-DkvFAiy5.js";import"./mathematica-IIbmv7SK.js";import"./modelica-DSrSSXCg.js";import"./mumps-zvxmGV4l.js";import"./mbox-z_N2Mo3d.js";import"./nsis-BvKfQ9lQ.js";import"./ntriples-BSwWqoLa.js";import"./octave-C4hdQ5Hf.js";import"./oz-qQq7irPq.js";import"./pascal-CafrKXZF.js";import"./perl-tdMlh9QA.js";import"./pig-CwGJVRC4.js";import"./powershell-D1ly3AHC.js";import"./properties-_nPj978X.js";import"./protobuf-B4y9do6W.js";import"./pug-BTvK5tSS.js";import"./puppet-Bc-yJKzi.js";import"./q-B0kTJ4cI.js";import"./r-BA4EbLKE.js";import"./rpm-DI_rRufH.js";import"./ruby-CR-u2WLS.js";import"./sas-Bqaci40L.js";import"./scheme-qjP0V5Ag.js";import"./shell-BLav31RL.js";import"./sieve-r025o_jW.js";import"./smalltalk-C7J3IyEP.js";import"./sparql-BRLJFz69.js";import"./stylus-Bdo_Aemu.js";import"./swift-B_XXVlXX.js";import"./verilog-B4LBqg_1.js";import"./tcl-B2fODqDH.js";import"./textile-BuVhTOzU.js";import"./toml-wcPdHu67.js";import"./troff-Ce85hlLp.js";import"./ttcn-BxnYHtq8.js";import"./ttcn-cfg-CKJxb-l2.js";import"./turtle-BkSuIpt-.js";import"./webidl-CGwyPRYs.js";import"./vb-BHgjm0DN.js";import"./vbscript-Dawdd5GZ.js";import"./velocity-BdD_26Jv.js";import"./vhdl-CWWH2SUo.js";import"./xquery-CVDBqZPY.js";import"./yacas-I8QjZlxf.js";import"./z80-D8p3gKXp.js";import"./mscgen-B2igx18G.js";import"./index-sbO9UaUU.js";import"./trash-C6Ko-g5q.js";import"./_createAggregator-ZcHkHPNJ.js";import"./_baseEach--KDTwKbG.js";import{__tla as _e}from"./loro_wasm_bg-C1ks32Vm.js";let E,ye=Promise.all([(()=>{try{return ue}catch{}})(),(()=>{try{return be}catch{}})(),(()=>{try{return je}catch{}})(),(()=>{try{return _e}catch{}})()]).then(async()=>{let z,I,T,D,P,q;z=t=>{const e=S.c(6),{children:i}=t,{openModal:a,closeModal:l}=M();let s,o;return e[0]!==l||e[1]!==a?(s=()=>a(r.jsx(T,{onClose:l})),e[0]=l,e[1]=a,e[2]=s):s=e[2],e[3]!==i||e[4]!==s?(o=r.jsx(G,{onClick:s,children:i}),e[3]=i,e[4]=s,e[5]=o):o=e[5],o},I=[H.lineWrapping],T=t=>{const e=S.c(23),{onClose:i}=t,[a,l]=$.useState(""),{theme:s}=F();let o,p,v,j,f,c;e[0]!==i?(o=async m=>{m.preventDefault();const y=new FormData(m.target),C=y.get("title"),g=y.get("description"),w=y.get("code");fetch("https://marimo.io/api/suggest-snippet",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:C,description:g,code:w})}),i(),J({title:"Snippet Submitted",description:"Thank you for contributing! We will review your snippet shortly."})},e[0]=i,e[1]=o):o=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(p=r.jsx(V,{children:"Contribute a Snippet"}),e[2]=p):p=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(v=r.jsxs(A,{children:[p,r.jsxs(R,{children:["Have a useful snippet you want to share with the community? Submit it here or make a pull request"," ",r.jsx("a",{href:U.githubPage,target:"_blank",className:"underline",children:"on GitHub"}),"."]})]}),e[3]=v):v=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(j=r.jsx(X,{id:"title",name:"title",autoFocus:!0,placeholder:"Title",required:!0,autoComplete:"off"}),f=r.jsx(K,{id:"description",name:"description",autoFocus:!0,placeholder:"Description",rows:5,required:!0,autoComplete:"off"}),e[4]=j,e[5]=f):(j=e[4],f=e[5]),e[6]!==a?(c=r.jsx("input",{type:"hidden",name:"code",value:a}),e[6]=a,e[7]=c):c=e[7];const _=s==="dark"?"dark":"light";let d,h,x,u,n,b;return e[8]!==a||e[9]!==_?(d=r.jsx(W,{theme:_,language:"python",className:"cm border rounded overflow-hidden",extensions:I,value:a,onChange:l}),e[8]=a,e[9]=_,e[10]=d):d=e[10],e[11]!==c||e[12]!==d?(h=r.jsxs("div",{className:"flex flex-col gap-6 py-4",children:[j,f,c,d]}),e[11]=c,e[12]=d,e[13]=h):h=e[13],e[14]!==i?(x=r.jsx(N,{"data-testid":"snippet-cancel-button",variant:"secondary",onClick:i,children:"Cancel"}),e[14]=i,e[15]=x):x=e[15],e[16]===Symbol.for("react.memo_cache_sentinel")?(u=r.jsx(N,{"data-testid":"snippet-send-button","aria-label":"Save",variant:"default",type:"submit",children:"Send"}),e[16]=u):u=e[16],e[17]!==x?(n=r.jsxs(L,{children:[x,u]}),e[17]=x,e[18]=n):n=e[18],e[19]!==o||e[20]!==n||e[21]!==h?(b=r.jsx(Q,{className:"w-fit",children:r.jsxs("form",{onSubmit:o,children:[v,h,n]})}),e[19]=o,e[20]=n,e[21]=h,e[22]=b):b=e[22],b},D=[H.lineWrapping],E=()=>{const t=S.c(22),{readSnippets:e}=Y(),[i,a]=Z.useState();let l,s;t[0]!==e?(l=()=>e(),t[0]=e,t[1]=l):l=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(s=[],t[2]=s):s=t[2];const{data:o,error:p,isPending:v}=ee(l,s);if(p){let m;return t[3]!==p?(m=r.jsx(oe,{error:p}),t[3]=p,t[4]=m):m=t[4],m}if(v||!o){let m;return t[5]===Symbol.for("react.memo_cache_sentinel")?(m=r.jsx(se,{size:"medium",centered:!0}),t[5]=m):m=t[5],m}const j=i?"h-1/3":"h-full";let f,c,_,d,h,x,u,n,b;return t[6]!==j?(f=te("border-b rounded-none",j),t[6]=j,t[7]=f):f=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(c=r.jsx(ae,{placeholder:"Search snippets...",className:"h-6 m-1",rootClassName:"flex-1 border-r"}),t[8]=c):c=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(_=r.jsxs("div",{className:"flex items-center w-full",children:[c,r.jsx(z,{children:r.jsx("button",{className:"float-right border-b px-2 m-0 h-full hover:bg-accent hover:text-accent-foreground",children:r.jsx(le,{className:"h-4 w-4"})})})]}),d=r.jsx(ne,{children:"No results"}),t[9]=_,t[10]=d):(_=t[9],d=t[10]),t[11]===Symbol.for("react.memo_cache_sentinel")?(h=m=>a(m),t[11]=h):h=t[11],t[12]!==o.snippets?(x=r.jsx(q,{onSelect:h,snippets:o.snippets}),t[12]=o.snippets,t[13]=x):x=t[13],t[14]!==f||t[15]!==x?(u=r.jsxs(me,{className:f,children:[_,d,x]}),t[14]=f,t[15]=x,t[16]=u):u=t[16],t[17]!==i?(n=r.jsx($.Suspense,{children:r.jsx("div",{className:"h-2/3 snippet-viewer flex flex-col",children:i?r.jsx(P,{snippet:i,onClose:()=>a(void 0)},i.title):r.jsx(fe,{title:"",description:"Click on a snippet to view its content."})})}),t[17]=i,t[18]=n):n=t[18],t[19]!==n||t[20]!==u?(b=r.jsxs("div",{className:"flex-1 overflow-hidden",children:[u,n]}),t[19]=n,t[20]=u,t[21]=b):b=t[21],b},P=t=>{const e=S.c(33),{snippet:i,onClose:a}=t,{theme:l}=F(),{createNewCell:s}=re(),o=ie();let p;e[0]!==s||e[1]!==o||e[2]!==i.sections?(p=()=>{for(const y of[...i.sections].reverse())y.code&&s({code:y.code,before:!1,cellId:o??"__end__",skipIfCodeExists:!0})},e[0]=s,e[1]=o,e[2]=i.sections,e[3]=p):p=e[3];const v=p;let j;e[4]!==s||e[5]!==o?(j=y=>{s({code:y,before:!1,cellId:o??"__end__"})},e[4]=s,e[5]=o,e[6]=j):j=e[6];const f=j;let c,_,d,h,x,u,n,b,m;if(e[7]!==i.title?(c=r.jsx("span",{children:i.title}),e[7]=i.title,e[8]=c):c=e[8],e[9]===Symbol.for("react.memo_cache_sentinel")?(_=r.jsx(pe,{className:"h-4 w-4"}),e[9]=_):_=e[9],e[10]!==a?(d=r.jsx(N,{size:"sm",variant:"ghost",onClick:a,className:"h-6 w-6 p-0 hover:bg-muted-foreground/10",children:_}),e[10]=a,e[11]=d):d=e[11],e[12]!==c||e[13]!==d?(h=r.jsxs("div",{className:"text-sm font-semibold bg-muted border-y px-2 py-1 flex justify-between items-center",children:[c,d]}),e[12]=c,e[13]=d,e[14]=h):h=e[14],e[15]===Symbol.for("react.memo_cache_sentinel")?(x=r.jsx(B,{className:"ml-2 h-4 w-4"}),e[15]=x):x=e[15],e[16]!==v?(u=r.jsx("div",{className:"flex justify-end",children:r.jsx(O,{children:r.jsxs(N,{className:"float-right",size:"xs",variant:"outline",onClick:v,children:["Insert snippet",x]})})}),e[16]=v,e[17]=u):u=e[17],e[18]!==f||e[19]!==i.sections||e[20]!==i.title||e[21]!==l){let y;e[23]!==f||e[24]!==i.title||e[25]!==l?(y=C=>{const{code:g,html:w,id:k}=C;return w?r.jsx("div",{children:ce({html:w})},`${i.title}-${k}`):g?r.jsxs("div",{className:"relative hover-actions-parent pr-2",children:[r.jsx(O,{children:r.jsx(de,{content:"Insert snippet",children:r.jsx(N,{className:"absolute -top-2 -right-1 z-10 hover-action px-2 bg-background",size:"sm",variant:"outline",onClick:()=>{f(g)},children:r.jsx(B,{className:"h-5 w-5"})})})}),r.jsx($.Suspense,{children:r.jsx(W,{theme:l==="dark"?"dark":"light",language:"python",className:"cm border rounded overflow-hidden",extensions:D,value:g,readOnly:!0},`${i.title}-${k}`)})]},`${i.title}-${k}`):null},e[23]=f,e[24]=i.title,e[25]=l,e[26]=y):y=e[26],n=i.sections.map(y),e[18]=f,e[19]=i.sections,e[20]=i.title,e[21]=l,e[22]=n}else n=e[22];return e[27]!==u||e[28]!==n?(b=r.jsxs("div",{className:"px-2 py-2 space-y-4 overflow-auto flex-1",children:[u,n]}),e[27]=u,e[28]=n,e[29]=b):b=e[29],e[30]!==b||e[31]!==h?(m=r.jsxs(r.Fragment,{children:[h,b]}),e[30]=b,e[31]=h,e[32]=m):m=e[32],m},q=t=>{const e=S.c(7),{snippets:i,onSelect:a}=t;let l,s;if(e[0]!==a||e[1]!==i){let o;e[3]!==a?(o=p=>r.jsx(he,{className:"rounded-none",onSelect:()=>a(p),children:r.jsx("div",{className:"flex flex-row gap-2 items-center",children:r.jsx("span",{className:"mt-1 text-accent-foreground",children:p.title})})},p.title),e[3]=a,e[4]=o):o=e[4],l=i.map(o),e[0]=a,e[1]=i,e[2]=l}else l=e[2];return e[5]!==l?(s=r.jsx(xe,{className:"flex flex-col overflow-auto",children:l}),e[5]=l,e[6]=s):s=e[6],s}});export{ye as __tla,E as default};
