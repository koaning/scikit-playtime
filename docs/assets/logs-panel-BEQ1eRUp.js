import{a as p,Q as m,S as h,T as d,j as a,U as g,V as f,W as j}from"./index-CelXfcd8.js";import{C as u}from"./clear-button-C4fDVSv8.js";import{P as y}from"./empty-state-DW308mFO.js";const N=()=>{const s=p.c(9),e=m(),{clearLogs:c}=h();if(e.length===0){let t,o;return s[0]===Symbol.for("react.memo_cache_sentinel")?(t=a.jsx("code",{className:"border rounded px-1",children:"stdout"}),s[0]=t):t=s[0],s[1]===Symbol.for("react.memo_cache_sentinel")?(o=a.jsx(y,{title:"No logs",description:a.jsxs("span",{children:[t," and"," ",a.jsx("code",{className:"border rounded px-1",children:"stderr"})," logs will appear here."]}),icon:a.jsx(j,{})}),s[1]=o):o=s[1],o}let l,r,n;return s[2]!==c?(l=a.jsx("div",{className:"flex flex-row justify-end px-2 py-1",children:a.jsx(u,{dataTestId:"clear-logs-button",onClick:c})}),s[2]=c,s[3]=l):l=s[3],s[4]!==e?(r=a.jsx("div",{className:"overflow-auto flex-1",children:a.jsx(x,{logs:e,className:"min-w-[300px]"})}),s[4]=e,s[5]=r):r=s[5],s[6]!==l||s[7]!==r?(n=a.jsxs(a.Fragment,{children:[l,r]}),s[6]=l,s[7]=r,s[8]=n):n=s[8],n},x=s=>{const e=p.c(10),{logs:c,className:l}=s;let r,n,t,o,i;return e[0]!==l?(r=d("flex flex-col",l),e[0]=l,e[1]=r):r=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(n={whiteSpace:"pre-wrap"},e[2]=n):n=e[2],e[3]!==c?(t=c.map(w),e[3]=c,e[4]=t):t=e[4],e[5]!==t?(o=a.jsx("pre",{className:"grid text-xs font-mono gap-1 whitespace-break-spaces font-semibold align-left",children:a.jsx("div",{className:"grid grid-cols-[30px_1fr]",style:n,children:t})}),e[5]=t,e[6]=o):o=e[6],e[7]!==r||e[8]!==o?(i=a.jsx("div",{className:r,children:o}),e[7]=r,e[8]=o,e[9]=i):i=e[9],i};function v(s){const e=g(s.timestamp),c=b[s.level],l=s.level.toUpperCase();return a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"shrink-0 text-(--gray-10) dark:text-(--gray-11)",children:["[",e,"]"]}),a.jsx("span",{className:d("shrink-0",c),children:l}),a.jsxs("span",{className:"shrink-0 text-(--gray-10)",children:["(",a.jsx(f,{cellId:s.cellId}),")"]}),s.message]})}const b={stdout:"text-(--grass-9)",stderr:"text-(--red-9)"};function w(s,e){return a.jsxs("div",{className:"contents group",children:[a.jsx("span",{className:d("opacity-70 group-hover:bg-(--gray-3) group-hover:opacity-100","text-right col-span-1 py-1 pr-1"),children:e+1}),a.jsx("span",{className:d("opacity-70 group-hover:bg-(--gray-3) group-hover:opacity-100","px-2 flex gap-x-1.5 py-1 flex-wrap"),children:v(s)})]},e)}export{x as LogViewer,N as default};
